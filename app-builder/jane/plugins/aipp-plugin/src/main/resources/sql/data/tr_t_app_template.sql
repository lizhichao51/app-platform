INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at", "is_deleted") VALUES ('36a4642d4b8543ecb5bb0c30af014b3e', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'bcc24abf7c8a483fa919dfd1f9947c88', '31f20efc7e0848deab6a6bc10fc3021e', 'system', '2025-06-19 06:43:13.070388', 'system', '2025-06-19 06:43:13.070388', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at", "is_deleted") VALUES ('43df8f8626754d45b145446d0b8c7a92', 'b8986770a6ffef44bbf2a9f26d6fc1be', '72f27bef57de4e7c8a0d13d700b81f8a', '31f20efc7e0848deab6a6bc10fc3021e', 'system', '2025-06-19 06:47:23.677827', 'system', '2025-06-19 06:47:23.677827', 0) ON CONFLICT ("id") DO NOTHING;

INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('8fb5858919384b2fb3e4ac6042672bc8', 'jadewdnjbq', 'b197e1ffd53d4860a8b4d5c4e259af73', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('4970e2d3cba34220af345d5201df0631', 'jadewdnjbq', '621931805023408e8e5262c11099cf4d', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('c1358a2ee2ef4fec819addf35d756019', 'jade6qm5eg', 'bf332adf6d0f4ec19a27f3b399943b5f', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('e41d02e18ada42efa911944c15b14c96', 'jade0pg2ag', 'b918cb0fe7224eaf9489de1b2d7ad028', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('9af5c3a5f3054a518f22ad8c81461401', 'jadewdnjbq', '2fac7c230c9a4556a7626df9500f18c9', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('b1991fc2e756468ba66a2e89a054a2fc', 'jadewdnjbq', 'b92039fbcbf54e26ab598df376826019', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('1cad6e2159864503a35dc168766d8d80', 'jadewdnjbq', '727bc0b12e5c42adbe6d941ec7e807af', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('4ac7ea9f72124d029f6de33a5edd9a39', 'jadewdnjbq', '0bd744a9cc4c45ad9e7604bea423c762', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('1850622f2ccc4d84b07671a21baf691d', NULL, 'a3ccee5913e449a08f67fce1894aaa87', '36a4642d4b8543ecb5bb0c30af014b3e', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('64be6b8db4a94f58b27ecb212f1e9bbb', 'jadewdnjbq', '81ad3a9f49aa45aeaf0a30001d0d2033', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('d70fdf18cf204c78ab525fcc22373e11', 'jadewdnjbq', 'b512d76537684126a245aab1b4b22ba6', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('aa8315d07eac432198b204efab587eaf', 'jade6qm5eg', '54d97ea6e88d43e0888c9756f3fd3675', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('0b4d906fea0044749ef67ed7f965b82d', 'jade0pg2ag', '72c278046b8141908ac1e0b69b7084c9', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('b4a10185a11a4bb6ab67ad67cdfebf8c', 'jadewdnjbq', '30f30b10a19746b795f9319bff24e9c8', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('8c1424ddc3334269be2a50cdff4e482e', 'jadewdnjbq', '5bc37e60f0ca47f69599508ba518da6d', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('5a1c0c23dd4d42ca8f65f5e22724262e', 'jadewdnjbq', '2a5af277b0494e6790c4216c57f32cc8', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('391e7236622c42b2b4d68ef394857339', 'jadewdnjbq', '78f6727889d446b9a8242b3df2891d71', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id", "is_deleted") VALUES ('d03f9e00dda44c73bdd3667da3ae00e7', NULL, '0fb3747657744dd985be434f94743792', '43df8f8626754d45b145446d0b8c7a92', 0) ON CONFLICT ("id") DO NOTHING;

INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at", "appearance", "is_deleted") VALUES ('ee6f79fc035545bda8734f5e26595c46', 'LLM模板', 'system', '2025-06-19 06:43:13.087872', 'system', '2025-06-19 06:43:13.087872', '{"id": "63385c92a08f445a9cdc9e2741abcba5", "type": "jadeFlowGraph", "pages": [{"x": 222.8466633750245, "y": 498.630952380953, "id": "elsa-page:tvp1s6", "bold": false, "mode": "configuration", "text": "newFlowPage", "type": "jadeFlowPage", "dirty": true, "index": 0, "width": 1600, "hAlign": "left", "height": 800, "isPage": true, "italic": false, "scaleX": 0.6000000000000001, "scaleY": 0.6000000000000001, "shapes": [{"x": -280.892857142857, "y": -219.9999999999999, "id": "jade6qm5eg", "pad": 6, "bold": false, "text": "开始", "type": "startNodeStart", "dirty": true, "index": 0, "width": 360, "height": 226, "italic": false, "shadow": "0 2px 4px 0 rgba(0,0,0,.1)", "flowMeta": {"inputParams": [{"id": "91138f09-b635-43df-95c6-1fe3d1745829", "from": "Expand", "name": "input", "type": "Object", "value": [{"id": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "from": "Input", "name": "Question", "type": "String", "value": "", "isVisible": true, "isRequired": true, "description": "这是用户输入的问题。", "displayName": "用户问题", "disableModifiable": true}], "config": [{"allowAdd": true}]}, {"id": "4a770dc6-e3c9-475d-84c7-48dacc74a5b6", "from": "Expand", "name": "memory", "type": "Object", "value": [{"id": "a7675623-7fc7-468c-8910-e73c70e5e468", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": true}, {"id": "cee9a31b-781c-4835-a616-ceed73be22f2", "from": "Input", "name": "type", "type": "String", "value": "ByConversationTurn"}, {"id": "69592622-4291-409d-9d65-9faea83db657", "from": "Input", "name": "value", "type": "Integer", "value": "6"}]}], "triggerMode": "auto"}, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "deletable": false, "namespace": "flowable", "autoHeight": true, "emphasized": false, "rotateAble": false, "borderColor": "rgba(28,31,35,.08)", "borderWidth": 1, "focusShadow": "0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)", "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "startComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "mouseInBorderColor": "rgba(28,31,35,.08)"}, {"x": 374.1428571428571, "y": -228.21428571428567, "id": "jadewdnjbq", "pad": 6, "bold": false, "text": "意图识别", "type": "llmNodeState", "dirty": true, "index": 1, "width": 360, "height": 344, "italic": false, "shadow": "0 2px 4px 0 rgba(0,0,0,.1)", "flowMeta": {"jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "31ba235d-1b26-4780-a7a7-32eca9500919", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "83653b54-dd04-4da9-957d-adb7c2728632", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "dd588a17-a69c-40c0-859a-d9930202a148", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "6c414e75-971e-403a-b2b1-c6850f128cc4", "from": "Input", "name": "model", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "db5fdafa-4cbf-44ba-9cca-8a98f1f771f4", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "88f74d78-4711-4f81-a2e7-74d0034c5e88", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "35a710cf-1b79-4523-b16f-b50878d677fe", "from": "Input", "name": "template", "type": "String", "value": "用户本轮的问题：{{query}}\n\n==========下面为历史对话记录\n```\n{{his}}\n```"}, {"id": "38fb27a1-71f4-4fcc-87d5-9d8a880bc04d", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "eee66922-4304-4209-89fc-b13ffa101630", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "e2f51f9f-a0f9-4b8e-a75a-b2016e52d845", "from": "Reference", "name": "his", "type": "Array", "value": ["memories"], "referenceId": "memories", "referenceKey": "memories", "referenceNode": "_systemEnv"}]}]}, {"id": "a6865419-867c-4bfb-855c-f5c1876c965a", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "308e2023-a8e9-486e-9784-8680addbb786", "from": "Expand", "name": "workflows", "type": "Array", "value": []}, {"id": "68f92923-d5da-42ce-8478-d7ac7d90664e", "from": "Input", "name": "systemPrompt", "type": "String", "value": "# 你的工作任务如下：\n\n## 第一步：识别关键信息  \n- 分析用户当前的问题与诉求  \n  - 请结合用户本轮对话及历史会话内容，判断其目前遇到的具体问题和表达的核心诉求。\n\n## 第二步：判断用户所处场景  \n基于识别出的用户问题和诉求，判断其属于以下哪一类场景：\n\n- 物流场景：  \n  - 用户表示商家发货慢、长时间未发货，或催促商家尽快发货；  \n  - 用户查询物流进度、催促快递、反馈拒收问题或快递未配送等情况；  \n  - 用户在快递运输过程中表达催促、异常或其他物流相关诉求。\n\n- 支付场景：  \n  - 用户支付后未见订单，进线询问状态或处理方式；  \n  - 支付失败但账户扣款，用户要求退款或解释；  \n  - 支付过程中遇到技术问题，如方式受限、密码无法输入等；  \n  - 对支付金额有疑问（实际支付与展示不符）；  \n  - 网络卡顿导致支付是否成功不确定，用户希望确认结果。\n\n- 售后场景：  \n  - 商品存在问题（如破损、功能缺失等），用户申请退换或维修；  \n  - 咨询售后政策（退换规则、运费问题等）；  \n  - 查询售后进度（审核状态、发货时间等）；  \n  - 售后过程中遇到新问题（如维修不当、延迟处理等）；  \n  - 对退换货后的退款方式或到账时间存在疑问。\n\n- 无法判断具体场景：  \n  - 用户表述不清或信息不足，无法归入上述任一场景。\n\n## 第三步：输出判断结果  \n请仅输出以下四个选项之一作为最终判断结果：  \n- 物流场景  \n- 支付场景  \n- 售后场景  \n- 无法判断具体场景\n\n## 限制要求：  \n- 请严格限制输出为上述四类之一，禁止输出其他不相关内容！\n"}, {"id": "78baad16-173f-4d70-a7cd-d1a2abc2f0d1", "from": "input", "name": "enableLog", "type": "Boolean", "value": false}, {"id": "1d2b1fb2-fef2-4bd2-bf9c-899f55b8cf90", "from": "Input", "name": "maxMemoryRounds", "type": "Integer", "value": "3"}, {"id": "6a506211-eff2-47a8-8e05-e64adf8a3fd9", "from": "Expand", "name": "knowledgeBases", "type": "Array", "value": []}], "outputParams": [{"id": "95d84d67-3198-415e-a63c-bc9a2da8d821", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "272c927a-9e25-48b6-a921-6a8ab20267a4", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}, {"id": "448dce38-bac1-43f4-9e51-51ac89f2164f", "from": "Input", "name": "reference", "type": "Array", "value": [], "description": ""}]}], "tempReference": {"6a506211-eff2-47a8-8e05-e64adf8a3fd9": [{"id": "78c9ff6c-b9f6-4489-80f9-00e245225196", "from": "Reference", "value": [], "referenceId": "output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84", "referenceNode": "jade0pg2ag"}]}}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "flowable", "autoHeight": true, "emphasized": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "focusShadow": "0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)", "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "llmComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 4042.380952380953, "y": -55.238095238095354, "id": "jadesoux5i", "pad": 6, "bold": false, "text": "结束", "type": "endNodeEnd", "dirty": true, "index": 2, "width": 360, "height": 182, "italic": false, "shadow": "0 2px 4px 0 rgba(0,0,0,.1)", "flowMeta": {"callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "54dab89c-5693-4082-baa7-12c648d812f7", "from": "Expand", "name": "finalOutput", "type": "Object", "value": [{"id": "ffad80c2-3f60-4d57-93b2-c2362a5dab9c", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output", "llmOutput"], "editable": true, "isRequired": true, "description": "", "referenceId": "ad0fdc41-d695-4466-9f6d-89dd34635dac", "referenceKey": "llmOutput", "referenceNode": "jadee1oaol"}], "editable": false, "isRequired": false, "referenceId": "", "referenceKey": "", "referenceNode": ""}, {"id": "c26bf2ca-75b3-4a6f-bc47-132c2e170895", "from": "Input", "name": "enableLog", "type": "Boolean", "value": false}], "outputParams": [{}]}}}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "deletable": true, "namespace": "flowable", "autoHeight": true, "emphasized": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "focusShadow": "0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)", "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "endComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 79.107142857143, "y": -106.99999999999989, "id": "jade6nzc98", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 3, "textX": 0, "textY": 0, "width": 295.0357142857141, "hAlign": "center", "height": 50.78571428571422, "italic": false, "margin": 20, "toShape": "jadewdnjbq", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade6qm5eg", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 407.57000329163884, "y": -474.7619047619048, "id": "jadeyz3byy", "pad": 6, "bold": false, "text": "注释", "type": "noteNode", "dirty": true, "index": 4, "width": 277, "height": 128, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "text_5850eadc-7275-4626-a6fd-7667e6bf7663", "from": "Input", "name": "text", "type": "String", "value": "<p>该步骤通过分析用户当前及历史会话内容，完成场景判定，并将对话引导至对应的场景流程中。</p>"}, {"id": "style_aa953d94-952d-4e82-a00f-246b1c2cc911", "from": "Expand", "name": "style", "type": "Object", "value": [{"id": "backgroundColor_f432d607-f744-4216-8fc3-587d3a63a003", "from": "Input", "name": "backgroundColor", "type": "String", "value": "rgb(234, 243, 255)"}, {"id": "outlineColor_96c91f33-0033-4616-a1d9-4d9bb187d1cb", "from": "Input", "name": "outlineColor", "type": "String", "value": ""}, {"id": "borderColor_3d67485e-ad2c-47f1-8d88-a7e737d9c966", "from": "Input", "name": "borderColor", "type": "String", "value": ""}, {"id": "fontSize_07613945-0581-4892-b0b5-32d7820d7232", "from": "Input", "name": "fontSize", "type": "String", "value": "12"}, {"id": "fontColor_9cadb046-85f0-46cf-95e7-86106e512ec8", "from": "Input", "name": "fontColor", "type": "String", "value": "rgb(26, 26, 26)"}, {"id": "align_ea5d059e-982b-47c3-90c6-ba23440b2171", "from": "Input", "name": "align", "type": "String", "value": "JustifyLeft"}, {"id": "listStyle_00514f16-0b64-4c6e-9c21-d6f88ebe6a61", "from": "Input", "name": "listStyle", "type": "String", "value": "InsertUnorderedList"}]}], "outputParams": []}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hideText": true, "runnable": false, "autoWidth": true, "backColor": "rgb(234, 243, 255)", "container": "elsa-page:tvp1s6", "dashWidth": 0, "minHeight": 92, "namespace": "jadeFlow", "autoHeight": false, "enableMask": false, "rotateAble": false, "borderColor": "rgb(171, 203, 249)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 12, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "noteComponent", "focusBackColor": "rgb(234, 243, 255)", "sourcePlatform": "official", "enableAnimation": false, "focusBorderWidth": 1, "mouseInBorderColor": "rgb(171, 203, 249)"}, {"x": 847.5700032916388, "y": -206.01190476190482, "id": "jade263zfk", "pad": 6, "bold": false, "text": "条件", "type": "conditionNodeCondition", "dirty": false, "index": 5, "width": 600, "height": 340, "italic": false, "flowMeta": {"joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto", "conditionParams": {"branches": [{"id": "d3f88ad7-0457-4e85-92f2-23b8a0ed871f", "type": "if", "disabled": false, "runnable": true, "conditions": [{"id": "6a6deac0-8adc-48b7-bc13-0d200276e753", "value": [{"id": "11e5b574-ecad-4ee0-b6a7-ca6ad415cf17", "from": "Reference", "name": "left", "type": "String", "value": ["output", "llmOutput"], "referenceId": "272c927a-9e25-48b6-a921-6a8ab20267a4", "referenceKey": "llmOutput", "referenceNode": "jadewdnjbq"}, {"id": "cf0357ae-f33a-45f6-af76-bfc99fd1a791", "from": "Input", "name": "right", "type": "String", "value": "物流场景", "referenceId": "", "referenceKey": "", "referenceNode": ""}], "condition": "equal"}], "conditionRelation": "and"}, {"id": "179be013-c3d8-4d22-8e60-dbd49ad02aa9", "type": "if", "disabled": false, "runnable": true, "conditions": [{"id": "1d6a2bde-8434-4880-a498-0260144b4d55", "value": [{"id": "cfd7e19b-0069-4d2e-a8fe-9686f9056aaf", "from": "Reference", "name": "left", "type": "String", "value": ["output", "llmOutput"], "referenceId": "272c927a-9e25-48b6-a921-6a8ab20267a4", "referenceKey": "llmOutput", "referenceNode": "jadewdnjbq"}, {"id": "a38dfd4f-7814-409e-a37a-d3a517c0d6d1", "from": "Input", "name": "right", "type": "String", "value": "支付场景", "referenceId": "", "referenceKey": "", "referenceNode": ""}], "condition": "equal"}], "conditionRelation": "and"}, {"id": "8436cd7e-4956-4805-a7fe-6847b9f4194a", "type": "if", "disabled": false, "runnable": true, "conditions": [{"id": "61317985-069b-4504-b691-cb2bf4ba4cd9", "value": [{"id": "08916b04-7ccb-412f-a6a9-40b33b4736b4", "from": "Reference", "name": "left", "type": "String", "value": ["output", "llmOutput"], "referenceId": "272c927a-9e25-48b6-a921-6a8ab20267a4", "referenceKey": "llmOutput", "referenceNode": "jadewdnjbq"}, {"id": "ea9299b1-cdd0-4345-b34d-1ef41ba4deae", "from": "Input", "name": "right", "type": "String", "value": "售后场景", "referenceId": "", "referenceKey": "", "referenceNode": ""}], "condition": "equal"}], "conditionRelation": "and"}, {"id": "91a2b5cc-3a60-4e56-b58c-60873dccdd78", "type": "else", "disabled": false, "runnable": true, "conditions": [{"id": "7bbfdd2e-728f-4744-88ad-f961fadb6a72", "value": [], "condition": "true"}], "conditionRelation": "and"}], "jadeNodeConfigChangeIgnored": true}}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "conditionComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 734.1428571428571, "y": -56.214285714285666, "id": "jadeyabzxi", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 6, "textX": 0, "textY": 0, "width": 113.42714614878173, "hAlign": "center", "height": 20.20238095238085, "italic": false, "margin": 20, "toShape": "jade263zfk", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadewdnjbq", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 1758.4033366249705, "y": -416.8452380952383, "id": "jadegcoezy", "pad": 6, "bold": false, "text": "解决方案专家-物流", "type": "llmNodeState", "dirty": true, "index": 7, "width": 360, "height": 344, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "f88734c6-f7c5-458c-aba1-bf1c92c99cb2", "from": "Input", "name": "model", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "5a7607a5-45d0-4a8e-92c2-e74a0d1355e7", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "77154d9b-642d-487e-8155-ec5c7a0f53c5", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "0105daf0-1337-4ff4-b22d-951eb6647275", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "ee3c0849-a8e1-476c-a77f-904bd8ffd07b", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "5d738786-09f3-49ee-969c-7dea1bcf2bbd", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "9200c5a6-df27-428e-9c8a-da7b0987d521", "from": "Input", "name": "template", "type": "String", "value": "用户本轮的问题：{{query}}\n\n==========下面为历史对话记录\n```\n{{his}}\n```"}, {"id": "3c0da354-7207-4a5d-ae02-21c08bda6b43", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "4c86799e-6164-4312-8436-b62a2c8b8f24", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "1360d81d-d6bb-4511-9919-f740352b92b1", "from": "Reference", "name": "his", "type": "Array", "value": ["memories"], "referenceId": "memories", "referenceKey": "memories", "referenceNode": "_systemEnv"}]}]}, {"id": "e6f12f13-16cc-4e02-ae98-163cc0f02cf7", "from": "Input", "name": "maxMemoryRounds", "type": "Integer", "value": "6"}, {"id": "bed5245d-c2eb-4bc3-a1fc-6fb654d943ae", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "88ec4f16-e7e4-4b05-a316-21142082d9db", "from": "Input", "name": "systemPrompt", "type": "String", "value": "# 你的工作任务如下：\n\n## 第一步：提取关键信息  \n- 请根据用户本轮输入及其历史会话内容，识别用户当前所遇到的问题与核心诉求。\n\n## 第二步：判断所属场景  \n结合上一步提取的信息，判断用户当前所处的服务场景。该判断将作为后续匹配解决方案的依据。\n\n【场景判断规则示例，仅供参考，实际内容请按业务规则调整】  \n- 若用户咨询发货状态、配送时效等相关问题，则判断为【场景1：发货与时效】  \n  - 典型问题包括：发货时间、预计送达时间、指定收货时间、不同地区送达时效、快递延误等  \n- 若用户涉及配送地址相关问题，则判断为【场景2：地址问题】  \n  - 典型问题包括：地址填写或修改、地址有效性、是否可送达等  \n- 若用户关注礼物收货、物流状态、快递异常等问题，则判断为【场景3：物流进度】  \n  - 典型问题包括：物流信息查询、物流异常、拒收处理等\n\n## 第三步：判断对应处理方案  \n根据判定出的场景，匹配最符合的问题分类与处理方案：\n\n### 场景1：发货与时效  \n- 分类1-1：发货/送达相关问题  \n  - 问题1-1-1：是否已发货 / 发货时间？ → [执行](方案1-1-1)  \n  - 问题1-1-2：下单后多久送达？ → [执行](方案1-1-2)  \n  - 问题1-1-3：能否指定送达时间？ → [执行](方案1-1-3)  \n  - 问题1-1-4：不同地区配送时效？ → [执行](方案1-1-4)  \n  - 问题1-1-5：快递延迟怎么办？ → [执行](方案1-1-5)  \n  - 问题1-1-6：不同快递的送达时间对比 → [执行](方案1-1-6)\n\n### 场景2：地址问题  \n- 分类2-1：地址填写 / 修改相关问题  \n  - 问题2-1-1：如何填写地址？ → [执行](方案2-1-1)  \n  - 问题2-1-2：如何修改地址？ → [执行](方案2-1-2)  \n  - 问题2-1-3：修改地址的截止时间？ → [执行](方案2-1-3)  \n  - 问题2-1-4：如何确认地址修改成功？ → [执行](方案2-1-4)  \n  - 问题2-1-5：地址模糊无法配送怎么办？ → [执行](方案2-1-5)  \n  - 问题2-1-6：地址正确但电话填错影响收货？ → [执行](方案2-1-6)  \n  - 问题2-1-7：地址修改成功但物流仍显示旧地址？ → [执行](方案2-1-7)  \n  - 问题2-1-8：搬家后旧订单能否改送新地址？ → [执行](方案2-1-8)  \n  - 问题2-1-9：商家拒绝修改地址怎么办？ → [执行](方案2-1-9)  \n  - 问题2-1-10：合并订单中部分地址错误如何处理？ → [执行](方案2-1-10)  \n  - 问题2-1-11：新地址超出配送范围如何处理？ → [执行](方案2-1-11)  \n  - 问题2-1-12：忘记账号无法修改错误地址？ → [执行](方案2-1-12)  \n  - 问题2-1-13：快递仍送到旧地址怎么办？ → [执行](方案2-1-13)\n\n### 场景3：物流进度  \n- 分类3-1：物流信息相关问题  \n  - 问题3-1-1：物流异常如何处理？ → [执行](方案3-1-1)  \n  - 问题3-1-2：拒收商品后如何处理？ → [执行](方案3-1-2)  \n  - 问题3-1-3：如何查询物流进度？ → [执行](方案3-1-3)\n\n\n## 第四步：输出最终方案编号  \n根据上一步判断的处理路径，输出对应的【方案编号】。\n\n- 输出格式：仅返回方案编号，如 `方案1-1-1`  \n- 若所有场景和方案均无法匹配，请返回：`无`\n\n---\n\n# 注意事项（特别提醒）  \n- 所有输出必须严格遵循结构要求，不能自行扩展场景名称或方案编号。  \n- 场景和方案编号必须为预设值，避免出现未定义编号。  \n\n---\n\n# 示例（Examples）\n\n## 正确示例（GoodCase）  \n以下是正确的示例，要学习参考：\n### 输出：\n方案2-1-2\n\n### 限制\n请按输出格式输出本次对话的方案编号，不要输出其他内容"}, {"id": "73311579-d411-4dc9-a9a5-9a569828e813", "from": "Input", "name": "enableLog", "type": "Boolean", "value": false}, {"id": "269e5817-5389-410d-844e-8cefbf9a732d", "from": "Expand", "name": "knowledgeBases", "type": "Array", "value": []}], "outputParams": [{"id": "cf0a5016-e334-43c4-aa2a-c09a1988a75b", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "021891d2-c320-4a8a-afe6-0d996c0b8f03", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}, {"id": "f90d8631-555e-4a78-ab8c-7c97e2f791cb", "from": "Input", "name": "reference", "type": "Array", "value": [], "description": ""}]}], "tempReference": {}}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "llmComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 1436.4842314584914, "y": -85.21188917614171, "id": "jadeeql7lh", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 8, "textX": 0, "textY": 0, "width": 321.9191051664791, "hAlign": "center", "height": -159.6333489190966, "italic": false, "margin": 20, "toShape": "jadegcoezy", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade263zfk", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "dynamic-0|d3f88ad7-0457-4e85-92f2-23b8a0ed871f"}, {"x": 2436.7366699583044, "y": 1092.3214285714303, "id": "jadeuuibl6", "pad": 6, "bold": false, "text": "结束_1", "type": "endNodeEnd", "dirty": true, "index": 9, "width": 360, "height": 182, "italic": false, "flowMeta": {"callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "31802a94-a226-4b0a-8d21-f6d506642cea", "from": "Expand", "name": "finalOutput", "type": "Object", "value": [{"id": "b183c9a9-b123-4386-9385-047ae74a0d3a", "from": "Reference", "name": "out", "type": "String", "value": ["output", "llmOutput"], "editable": true, "isRequired": true, "description": "", "referenceId": "8b800ab7-3936-4e74-90d6-f68d242d90fc", "referenceKey": "llmOutput", "referenceNode": "jadefouxqo"}], "editable": false, "isRequired": false, "referenceId": "", "referenceKey": "", "referenceNode": ""}, {"id": "b9150c6a-8b82-4517-962e-351e38a0407e", "from": "Input", "name": "enableLog", "type": "Boolean", "value": false}], "outputParams": [{}]}}}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "deletable": true, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "endComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 2356.260479482118, "y": -422.4404761904766, "id": "jadessmwt5", "pad": 6, "bold": false, "text": "代码_物流", "type": "codeNodeState", "dirty": true, "index": 10, "width": 368, "height": 252, "italic": false, "flowMeta": {"jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "args"}, {"name": "code"}, {"name": "language"}, {"name": "output"}], "return": {"type": "object"}, "uniqueName": "e147f301-957a-4335-a155-1e86d1a45ae5"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "0ffe2bec-e483-4edd-a008-207e1416d708", "from": "Expand", "name": "args", "type": "Object", "value": [{"id": "31d51789-cc35-4b38-94c2-61ed6240db1c", "from": "Reference", "name": "input", "type": "String", "value": ["output", "llmOutput"], "referenceId": "021891d2-c320-4a8a-afe6-0d996c0b8f03", "referenceKey": "llmOutput", "referenceNode": "jadegcoezy"}]}, {"id": "20dc4f53-16a4-4784-beda-3e19a1a65bb1", "from": "Input", "name": "code", "type": "String", "value": "async def main(args: Args) -> dict:\n    solution_list =[\n  {\n    \"方案编号\": \"方案1-1-1\",\n    \"方案标题\": \"商品的发货时间是什么时候？\",\n    \"方案内容\": \"告知用户：您好，一般情况下，我们会在您下单后的[X]个工作日内发货（具体时间可根据实际业务情况填写）。您可以在抖音商城的“我的订单”页面中查看订单的发货状态。若您的订单有特殊情况，比如预售商品等，具体发货时间会在商品详情页中进行说明，您可以前往查看。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-2\",\n    \"方案标题\": \"商品预计什么时候能送达？\",\n    \"方案内容\": \"告知用户：您好，商品的送达时间会受到多种因素的影响，比如发货地、收货地、物流方式等。一般来说，在您的订单发货后，[普通快递预计送达时间，如1-3天，可根据实际情况填写]内送达（普通快递）；[顺丰等特殊快递预计送达时间，如1-2天，可根据实际情况填写]内送达（顺丰等特殊快递）。您可以在订单发货后，通过订单详情页中的物流信息实时跟踪商品的运输进度，以便了解大概的送达时间。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-3\",\n    \"方案标题\": \"可以要求指定送达时间吗？\",\n    \"方案内容\": \"告知用户：您好，目前我们不支持直接指定送达时间哦。但是您可以在下单时备注一些特殊要求，我们会尽量安排快递在合适的时间进行派送。同时，您也可以在订单发货后，关注物流信息，当商品到达您所在地区的快递网点后，您可以联系快递员，协商派送时间。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-4\",\n    \"方案标题\": \"不同地区的送达时效是怎样的？\",\n    \"方案内容\": \"告知用户：您好，不同地区的送达时效会有所不同哦。一般来说，同城的订单在发货后[1-2天，可根据实际情况填写]内送达；省内的订单在发货后[2-3天，可根据实际情况填写]内送达；省外的订单在发货后[3-5天，可根据实际情况填写]内送达。但如果您所在的地区较为偏远，或者遇到特殊情况（如天气恶劣、节假日等），送达时间可能会有所延长。您可以在订单发货后，通过物流信息实时了解商品的运输进度。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-5\",\n    \"方案标题\": \"快递延迟了怎么办？\",\n    \"方案内容\": \"告知用户，很抱歉快递派送延迟了，可能是快递员在派送过程中遇到了一些特殊情况。您可以先通过订单详情页中的快递员联系方式，联系快递员询问具体情况，看大概什么时候能送达。若无法联系到快递员，您可以联系物流公司的客服，提供订单号，让他们帮您协调处理。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-6\",\n    \"方案标题\": \"各家快递的送达时效分别是怎样的？\",\n    \"方案内容\": \"告知用户：您好，我们目前合作的快递有[列举合作快递名称]等。一般来说，[快递1名称]的送达时效为[快递1预计送达时间，如1-3天，可根据实际情况填写]；[快递2名称]的送达时效为[快递2预计送达时间，如2-4天，可根据实际情况填写]。但具体的送达时间还会受到发货地、收货地、商品重量体积等多种因素的影响。您可以在下单时查看商品详情页中关于快递的说明，或者在订单发货后，通过物流信息实时了解商品的运输进度。\"\n  },\n{\n    \"方案编号\": \"方案2-1-2\",\n    \"方案标题\": \"地址填写有误，但已下单，还能修改吗？怎么修改？\",\n    \"方案内容\": \"查询业务特征\\\"订单发货状态\\\"：\\n- 如${订单发货状态}=\\\"未发货\\\"：\\n    - 参考方案：告知用户订单尚未发货，可以在抖音商城的“我的订单”页面找到订单，点击“修改地址”修改\\n\\n- 如${订单发货状态}=\\\"已发货\\\"\\n    - 当${订单物流状态}=\\\"等待揽件\\\"：\\n        - 参考方案：告知用户订单已发货但还未揽件，可联系商家协商修改\\n\\n    - 当${订单物流状态}=\\\"已揽件\\\"、\\\"运输中\\\"、\\\"派送中\\\"、\\\"已签收\\\"\\n        - 参考方案：告知用户订单已经发货，无法修改，可以联系商家协商撤回快递，或联系物流公司拒收，拒收后重新下单购买\\n\"\n  },\n  {\n    \"方案编号\": \"方案2-1-3\",\n    \"方案标题\": \"配送地址的变更最晚在什么时候可以操作？\",\n    \"方案内容\": \"小主，配送地址的变更一般在商品发货之前都可以操作哟，若已发货，建议您尝试联系商家或者物流服务商详细咨询\"\n  },\n  {\n    \"方案编号\": \"方案2-1-4\",\n    \"方案标题\": \"如何确认地址已成功修改并按新地址配送？\",\n    \"方案内容\": \"告知用户，地址修改成功后可在订单详情中查看新的派送地址，确认是否修改正确\"\n  },\n  {\n    \"方案编号\": \"方案2-1-5\",\n    \"方案标题\": \"下单时填写的地址模糊，无法准确配送怎么办？\",\n    \"方案内容\": \"查询业务特征\\\"订单发货状态\\\"：\\n- 如${订单发货状态}=\\\"未发货\\\"：\\n    - 参考方案：告知用户订单尚未发货，尽快进入抖音商城的“我的订单”页面，点击该订单，找到“修改地址”选项，补充完整准确的地址信息\\n\\n- 如${订单发货状态}=\\\"已发货\\\"\\n    - 当${订单物流状态}=\\\"等待揽件\\\"：\\n        - 参考方案：告知用户订单已发货但还未揽件，马上联系商家，说明地址模糊情况，请求商家修改为准确地址\\n\\n    - 当${订单物流状态}=\\\"已揽件\\\"、\\\"运输中\\\"、\\\"派送中\\\"：\\n        - 参考方案：告知用户订单已在运输途中，可先尝试联系物流公司，提供订单号和新的准确地址，看能否更改派送地址；若物流公司无法处理，再联系商家协商解决方案，比如拦截快递后重新发货\\n\\n    - 当${订单物流状态}=\\\"已签收\\\"：\\n        - 参考方案：告知用户订单已签收，若因地址模糊导致送错地址，先查看快递面单上的签收人信息，尝试联系签收人协商退回；若无法联系到签收人，可与商家沟通，看是否能协商补发商品或其他补偿方式\\n\"\n  },\n  {\n    \"方案编号\": \"方案2-1-6\",\n    \"方案标题\": \"收件人地址不变，但电话填写错误，影响收货怎么办？\",\n    \"方案内容\": \"查询业务特征\\\"订单发货状态\\\"：\\n- 如${订单发货状态}=\\\"未发货\\\"：\\n    - 参考方案：告知用户订单尚未发货，可进入抖音商城的“我的订单”页面，找到对应订单，点击“修改信息”，将电话修改为正确号码\\n\\n- 如${订单发货状态}=\\\"已发货\\\"\\n    - 当${订单物流状态}=\\\"等待揽件\\\"：\\n        - 参考方案：告知用户订单已发货但还未揽件，立即联系商家，说明电话填写错误情况，请求商家修改电话信息\\n\\n    - 当${订单物流状态}=\\\"已揽件\\\"、\\\"运输中\\\"、\\\"派送中\\\"：\\n        - 参考方案：告知用户订单已在运输途中，可主动联系物流公司，提供订单号和正确的电话号码，让物流公司在派送时能联系到正确的收件人；若物流公司无法处理，再与商家沟通，协商解决办法\\n\\n    - 当${订单物流状态}=\\\"已签收\\\"：\\n        - 参考方案：告知用户订单已签收，若因电话错误导致他人误签，先查看快递面单上的签收人信息，尝试联系签收人协商退回；若无法联系到签收人，可与商家沟通，协商是否能补发商品或给予其他补偿\\n\"\n  },\n  {\n    \"方案编号\": \"方案2-1-7\",\n    \"方案标题\": \"地址修改后，物流信息上显示的地址还是旧地址，怎么回事？\",\n    \"方案内容\": \"告知用户，可能存在信息更新延迟的情况。建议先确认订单详情中显示的地址是否已成功修改为新地址。如果订单详情中的地址是新地址，但物流信息仍显示旧地址，可等待一段时间，让系统同步更新；若等待一段时间后仍未更新，联系商家，说明情况，让商家协助联系物流公司核实并更新物流信息；也可以自行联系物流公司，提供订单号和新地址，要求其在系统中修正地址信息。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-8\",\n    \"方案标题\": \"搬家了，之前下单的商品能改送到新地址吗？\",\n    \"方案内容\": \"查询业务特征\\\"订单发货状态\\\"：\\n- 如${订单发货状态}=\\\"未发货\\\"：\\n    - 参考方案：告知用户订单尚未发货，可在抖音商城的“我的订单”页面找到对应订单，点击“修改地址”，将地址修改为新地址\\n\\n- 如${订单发货状态}=\\\"已发货\\\"\\n    - 当${订单物流状态}=\\\"等待揽件\\\"：\\n        - 参考方案：告知用户订单已发货但还未揽件，尽快联系商家，说明已搬家的情况，请求商家修改派送地址为新地址\\n\\n    - 当${订单物流状态}=\\\"已揽件\\\"、\\\"运输中\\\"、\\\"派送中\\\"：\\n        - 参考方案：告知用户订单已在运输途中，先尝试自行联系物流公司，提供订单号和新地址，看能否更改派送地址；若物流公司无法处理，再联系商家，说明情况，协商解决方案，如拦截快递后重新发货至新地址\\n\\n    - 当${订单物流状态}=\\\"已签收\\\"：\\n        - 参考方案：告知用户订单已签收，若原地址已无法接收，可先查看快递面单上的签收人信息，尝试联系签收人协商转寄到新地址；若无法联系到签收人，可与商家沟通，看是否能协商其他处理方式，如重新购买并享受一定优惠等\\n\"\n  },\n  {\n    \"方案编号\": \"方案2-1-9\",\n    \"方案标题\": \"修改地址后，商家告知无法更改，该如何处理？\",\n    \"方案内容\": \"首先安抚用户情绪，然后告知用户：如果商家告知无法更改地址，您可以尝试再次与商家友好沟通，说明地址更改的必要性，并提供新地址的详细信息。若商家仍坚持无法处理，当订单处于已发货且物流状态为“已揽件”“运输中”“派送中”时，您可以自行联系物流公司，向他们说明情况并提供订单号以及新的正确地址，请求物流公司协助更改派送地址。若物流公司也无法处理，很遗憾可能只能等商品到达原地址后，您再尝试与快递员或签收人协商转寄至新地址，或者与商家协商其他补偿方案，如部分退款等。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-10\",\n    \"方案标题\": \"多个商品合并订单，其中一个商品地址填错，能否单独修改该商品地址？\",\n    \"方案内容\": \"查询业务特征\\\"订单发货状态\\\"：\\n- 如${订单发货状态}=\\\"未发货\\\"：\\n    - 参考方案：告知用户订单尚未发货，您可以在抖音商城的“我的订单”页面找到该合并订单，查看是否有针对单个商品修改地址的选项，如果有，点击对应商品的“修改地址”进行操作；如果没有相关选项，建议您联系商家，说明情况，请求商家帮忙将填错地址的商品修改为正确地址。\\n\\n- 如${订单发货状态}=\\\"已发货\\\"：\\n    - 当${订单物流状态}=\\\"等待揽件\\\"：\\n        - 参考方案：告知用户订单已发货但还未揽件，立即联系商家，说明多个商品合并订单中其中一个商品地址填错的情况，请求商家修改该商品的派送地址。\\n\\n    - 当${订单物流状态}=\\\"已揽件\\\"、\\\"运输中\\\"、\\\"派送中\\\"：\\n        - 参考方案：告知用户订单已在运输途中，由于是合并订单，单独修改一个商品地址较困难。您可以先联系物流公司，看是否能在运输过程中识别并处理该商品的地址问题；若物流公司无法处理，再与商家沟通，协商是否可以在商品到达目的地后，将填错地址的商品重新安排发货至正确地址，或者提供其他补偿方案。\\n\\n    - 当${订单物流状态}=\\\"已签收\\\"：\\n        - 参考方案：告知用户订单已签收，若填错地址的商品已被错误签收，您可以查看快递面单上的签收人信息，尝试联系签收人协商退回该商品；若无法联系到签收人，可与商家沟通，协商是否能补发该商品或给予相应的补偿。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-11\",\n    \"方案标题\": \"地址修改后，新地址超出了商家默认的配送范围，怎么办？\",\n    \"方案内容\": \"告知用户：如果新地址超出了商家默认的配送范围，首先您可以联系商家，与商家沟通是否可以通过其他方式（如更换物流渠道、增加运费等）将商品配送到新地址。若商家表示无法配送到新地址，您可以考虑以下几种解决办法：一是与商家协商取消订单，重新下单并填写在配送范围内的地址；二是看看是否可以将商品配送到附近可接收的地址（如代收点等），然后自行前往取件；三是与商家协商是否能提供其他解决方案，如将商品邮寄到您指定的其他可配送地址，或者给予一定的补偿让您自行解决收货问题。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-12\",\n    \"方案标题\": \"地址填写错误，且忘记下单账号，无法自行修改地址，怎么处理？\",\n    \"方案内容\": \"先安抚用户，然后告知用户：如果您忘记了下单账号且地址填写错误无法自行修改，您可以尝试通过您支付时使用的支付账号（如支付宝、微信等）查找订单记录，获取订单相关信息。若无法通过支付账号找到订单，您可以联系抖音客服，向客服提供您的相关信息（如收货人姓名、电话、下单时间、商品名称等），以便客服协助您查找订单。找到订单后，向客服说明地址填写错误的情况，请求客服帮忙联系商家或物流公司修改地址。如果订单已经发货，根据不同的物流状态，按照相应的处理方式（如联系物流公司、与商家协商等）尝试解决地址错误的问题。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-13\",\n    \"方案标题\": \"地址修改成功，但快递员仍按旧地址派送，如何解决？\",\n    \"方案内容\": \"告知用户：如果遇到快递员仍按旧地址派送的情况，您可以第一时间联系快递员，向快递员说明地址已经修改，并提供新地址的详细信息，请求快递员按照新地址派送。若快递员无法处理或不配合，您可以联系物流公司的客服，向客服反映情况并提供订单号、新地址等信息，要求物流公司协调处理，督促快递员按新地址派送。同时，您也可以联系商家，告知商家快递员按旧地址派送的问题，请求商家协助与物流公司沟通解决。如果最终商品还是被派送到了旧地址，您可以查看旧地址处的签收情况，尝试与签收人协商转寄至新地址，若无法协商，再与商家协商其他解决方案，如补发商品或给予补偿。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-1\",\n    \"方案标题\": \"物流显示异常，该怎么办？\",\n    \"方案内容\": \"告知用户，您的物流信息长时间未更新，可能是物流系统信息同步延迟等原因导致的。您可以先耐心等待一段时间，看物流信息是否会更新。若等待一段时间后仍未更新，您可以联系物流公司的客服，提供订单号，让他们帮您查询包裹的实际运输情况。若物流公司无法解决，您可以联系我们的客服，我们会协助您跟进处理。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-2\",\n    \"方案标题\": \"拒收商品后，后续该怎么处理？\",\n    \"方案内容\": \"告知用户：您好，当您拒收商品后，物流公司会将商品退回给商家。一般情况下，商家在收到退回的商品后，会在[X]个工作日内（可根据实际业务情况填写）为您处理退款或其他售后事宜。您可以在抖音商城的“我的订单”页面中查看订单的售后状态，了解退款进度等信息。如果在规定时间内您没有收到退款或商家没有处理售后事宜，您可以联系商家客服，询问具体情况，也可以联系我们的客服，我们会协助您跟进处理。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-3\",\n    \"方案标题\": \"如何查询礼物的物流信息？\",\n    \"方案内容\": \"告知用户：您好，您可以在抖音商城的“我的订单”页面中找到对应的礼物订单，点击进入订单详情页，在订单详情页中会显示物流信息，您可以通过物流单号在对应的物流公司官网或者抖音商城提供的物流查询入口中查询礼物的运输进度。如果您在查询过程中遇到问题，或者无法获取物流信息，您可以联系我们的客服，提供订单号，我们会帮您查询具体情况。\"\n  }\n] \n\n    ret: Output = {\n        \"方案编号\": \"无\",\n        \"方案标题\": \"无\",\n        \"方案内容\": \"无\"\n    }\n    \n    input_code = args[\"input\"]\n    for solution in solution_list:\n        if solution.get(\"方案编号\") == input_code:\n             ret: Output = solution\n\n\n    return ret", "language": "python"}, {"id": "d2e889fa-6657-4481-a825-f2145a3b54c6", "from": "Input", "name": "language", "type": "String", "value": "python"}, {"id": "4607a8f5-242b-4f08-a5b9-22d06b363515", "from": "Input", "name": "output", "type": "Object", "value": {"properties": {"output": {"type": "object", "properties": {"方案内容": {"type": "string", "description": ""}, "方案标题": {"type": "string", "description": ""}, "方案编号": {"type": "string", "description": ""}}, "description": ""}}}}], "outputParams": [{"id": "6625b58c-9952-403b-a434-ca8c1867cf1d", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "a75bc58e-3095-439b-8ef4-5d4f40651174", "from": "Input", "name": "方案编号", "type": "String", "value": "", "description": ""}, {"id": "85313e43-51b2-42da-a804-9b979a38c62e", "from": "Input", "name": "方案标题", "type": "String", "value": "", "description": ""}, {"id": "dcb32092-98d2-4282-b8e1-b8cc1e17e32b", "from": "Expand", "name": "方案内容", "type": "String", "value": "", "description": ""}]}]}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "codeComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 2118.4033366249705, "y": -244.8452380952383, "id": "jadeqpcb5o", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 11, "textX": 0, "textY": 0, "width": 237.85714285714766, "hAlign": "center", "height": -51.5952380952383, "italic": false, "margin": 20, "toShape": "jadessmwt5", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadegcoezy", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 3034.2366699583054, "y": -49.761904761904816, "id": "jade3q9168", "pad": 6, "bold": false, "text": "变量聚合", "type": "variableAggregationNodeState", "dirty": false, "index": 12, "width": 360, "height": 198, "italic": false, "flowMeta": {"jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "variables"}], "return": {"type": "Object"}, "uniqueName": "c71f3d85-d69e-45e4-9549-479e46dc3167"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "variables_12010f7f-b507-4612-93e0-10a1acd821c4", "from": "Expand", "name": "variables", "type": "Array", "value": [{"id": "a3f887f6-4a1d-4f44-b47e-936aafebd4f2", "from": "Reference", "type": "Object", "value": ["output"], "referenceId": "794511c3-82a1-41d5-b0c6-d660d76b76ef", "referenceKey": "output", "referenceNode": "jadeasze4z"}, {"id": "19360bb0-b2b6-404b-b437-4c9df0c91ff9", "from": "Reference", "type": "Object", "value": ["output"], "referenceId": "cf0a5016-e334-43c4-aa2a-c09a1988a75b", "referenceKey": "output", "referenceNode": "jadegcoezy"}, {"id": "4d86489d-dd2c-4677-8aa8-b1cf99185f40", "from": "Reference", "type": "Object", "value": ["output"], "referenceId": "847d3e0a-099c-481b-a63c-285ca33a580f", "referenceKey": "output", "referenceNode": "jade5eaxyf"}]}], "outputParams": [{"id": "output_32256b54-87c0-495f-99f8-0e1ff1ebd0c8", "from": "Input", "name": "output", "type": "Object", "value": []}]}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "variableAggregationComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 2724.260479482118, "y": -296.4404761904766, "id": "jadekr294k", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 13, "textX": 0, "textY": 0, "width": 309.9761904761872, "hAlign": "center", "height": 345.6785714285718, "italic": false, "margin": 20, "toShape": "jade3q9168", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadessmwt5", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 3593.820003291639, "y": -134.76190476190482, "id": "jadee1oaol", "pad": 6, "bold": false, "text": "沟通协商Agent", "type": "llmNodeState", "dirty": false, "index": 14, "width": 360, "height": 446, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "f79a861d-0fe4-4fce-b547-2e7b99454a17", "from": "Input", "name": "model", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "2810c062-eabe-4c6e-b1be-c72746951014", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "a4fa3632-b230-4802-977b-147d4bc317da", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "129bdbef-f0c4-4389-8e92-a58f8e5e66bc", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "0f06aab0-275d-442a-b6be-fd313a2ec02c", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "868bdce7-5fac-4aca-be98-fd0da43e26d7", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "b0094932-ef67-4615-a82b-86e988f3d53c", "from": "Input", "name": "template", "type": "String", "value": "## 用户与客服的历史会话\n```以下是用户本轮发送的消息\n{{query}}\n```\n```以下是用户与人工客服的历史会话\n{{his}}\n```\n## 方案\n```\n{{solution}}\n```\n"}, {"id": "72e70e3d-be8f-4a69-949d-af8981a3bb80", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "9dc7745c-59a9-4b65-ae94-f61d54f5d964", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "ca64dd82-9d12-4304-9e21-f093cd04f69e", "from": "Reference", "name": "solution", "type": "Object", "value": ["output"], "referenceId": "output_32256b54-87c0-495f-99f8-0e1ff1ebd0c8", "referenceKey": "output", "referenceNode": "jade3q9168"}]}]}, {"id": "e6f12f13-16cc-4e02-ae98-163cc0f02cf7", "from": "Input", "name": "maxMemoryRounds", "type": "Integer", "value": "6"}, {"id": "30bfd6ea-98a1-44b7-87c8-43cc9877d4ee", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "30370032-30e0-4270-ad9e-e643c2099c05", "from": "Input", "name": "systemPrompt", "type": "String", "value": "# 一、角色设定（Role）\n\n## 1.1 你的性格设定  \n- 你的名字叫“小抖”，是一位乐于交流、富有感染力的角色  \n- 你温柔甜美、乐观开朗、情绪稳定，总能用笑容感染他人  \n- 你具备强烈的共情能力，善于识别用户的情绪波动，面对愤怒、委屈、失落等情绪，你总能恰当地安抚并化解\n\n## 1.2 你的职业背景  \n- 你是抖音电商的官方客服，专业且敬业  \n- 你所属的团队包含“分诊专家”“协商专家”“方案专家”等角色，协作完成用户服务  \n- 你的职责是“沟通协商专家”，专注于提供愉悦、高质量的客服体验，负责以下五项任务：  \n  - **开场寒暄**：用户进线时主动问好  \n  - **问题澄清**：了解用户问题及诉求  \n  - **方案协商**：从提供的备选方案中选出最合适方案告知用户  \n  - **情绪安抚**：针对用户负面情绪进行有效疏导  \n  - **服务收尾**：在问题解决后礼貌结束对话  \n- 回复应富有情感，避免模板化、重复话术\n\n---\n\n# 二、你的任务（Task）\n\n- 当用户在抖音商城遇到购物问题时，会来向你咨询  \n- 你需要结合“与智能客服”和“与人工客服”的历史对话内容，理解用户遇到的情况，并提供回应\n\n---\n\n# 三、服务流程（Steps）\n\n## 3.1 判断基本状态  \n\n### 3.1.1 判断是否为首次进线   \n- 判断用户是否首次进入人工客服会话  \n\n### 3.1.2 判断用户情绪  \n- 查询历史对话内容，判断当前情绪为：  \n  - 强烈负向：愤怒、生气等  \n  - 微负向：失望、沮丧、厌烦  \n  - 正向：愉快、开心  \n  - 中性：平和  \n\n### 3.1.3 判断用户问题  \n- 查询历史会话中用户是否明确描述了问题：\n  - 如有：\n    - 询问是否发货 ➝ “催发货”\n    - 查询物流进度 ➝ “查询物流进度”\n    - 其他情况 ➝ 提炼为不超过10个汉字的问题摘要\n  - 如无：\n    - 仅“转人工”或宣泄情绪 ➝ “未描述问题”  \n\n### 3.1.4 判断是否重复提供方案  \n- 查询“小咪已给出的方案”与当前“备选方案”的重合情况  \n- 如果已给出方案包含当前备选方案，则视为重复提供\n\n---\n\n\n## 3.3 服务指南参考  \n\n### 3.3.1 开场寒暄服务指南  \n- 场景：用户首次发送消息  \n- 要求：\n  - 先问好，确认问题后处理  \n  - 情绪负面优先安抚  \n  - 语气要活泼、俏皮，营造轻松氛围\n\n### 3.3.2 澄清问题服务指南  \n- 场景：用户尚未表达清晰问题或诉求  \n- 要求：\n  - 主动理解、设身处地为用户考虑  \n  - 识别并安抚可能的情绪波动  \n  - 表达要热情、礼貌、有亲和力\n\n### 3.3.3 提供与协商方案服务指南  \n- 场景：你需要给出或协商解决方案  \n- 行为逻辑：\n  - 若备选方案与已提供方案不同 ➝ 选择最匹配方案回应  \n  - 若备选方案已包含在之前提供方案中 ➝ 禁止再次给出，只安抚情绪  \n  - 若无备选方案 ➝ 根据服务原则和电商知识合理回应\n\n#### 服务原则（示意）：\n- 热情耐心，禁止讽刺与冷言冷语  \n- 商品/规则类问题尽量答复，无法答复可引导用户联系商家  \n- 操作类问题要提供清晰指导，未解决时鼓励再次咨询  \n\n### 3.3.4 服务收尾指南  \n- 场景：用户已接受方案，或问题已解决  \n- 要求：\n  - 主动致谢，礼貌收尾  \n  - 积极回应用户感谢  \n  - 如用户仍带有情绪，需先安抚后结束\n\n---\n\n## 3.4 输出回复话术  \n\n- 输出形式：纯文本  \n- 限制要求：  \n  - 总字数不超过 80 字  \n  - 必须正面回应用户本轮消息  \n  - 遇到多个问题时须全部回答  \n  - 表达要连贯自然，避免重复、机械式用语\n\n---\n\n# 四、特别注意事项（Attention）\n- 用户统一称为“小主”，你自称“小咪”，不可使用其他称呼  \n- 回应需充分体现用户情绪，注意情感安抚  \n- 避免重复或相似话术，可结合上下文自然承接  \n- 若问题相似，也要变换表达方式，可用无实际内容的话术安抚  \n- 用户接受方案 ➝ 明确承接  \n- 用户拒绝方案 ➝ 优先安抚，再考虑新方案  \n- 用户提出新要求 ➝ 结合你能处理的能力范围给出回应  \n\n\n"}, {"id": "aef1b70f-113f-40fc-b42f-2ea4c07dc749", "from": "Input", "name": "enableLog", "type": "Boolean", "value": true}, {"id": "98732927-f270-4a2a-861e-5969c324edd4", "from": "Expand", "name": "knowledgeBases", "type": "Array", "value": []}], "outputParams": [{"id": "7f1e2e79-5320-46f0-97d7-51d294acc7fe", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "ad0fdc41-d695-4466-9f6d-89dd34635dac", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}, {"id": "a4e01366-4a72-4c75-8fee-f52821d9bfc9", "from": "Input", "name": "reference", "type": "Array", "value": [], "description": ""}]}], "tempReference": {}}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "llmComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 3394.2366699583054, "y": 49.238095238095184, "id": "jadekz8909", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 15, "textX": 0, "textY": 0, "width": 199.58333333333348, "hAlign": "center", "height": 39, "italic": false, "margin": 20, "toShape": "jadee1oaol", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade3q9168", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 3953.820003291639, "y": 88.23809523809518, "id": "jademi4pi5", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 16, "textX": 0, "textY": 0, "width": 88.56094908931436, "hAlign": "center", "height": -52.47619047619054, "italic": false, "margin": 20, "toShape": "jadesoux5i", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadee1oaol", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 2337.9866699583063, "y": 23.988095238095298, "id": "jadem7w2r0", "pad": 6, "bold": false, "text": "代码_支付", "type": "codeNodeState", "dirty": true, "index": 17, "width": 368, "height": 252, "italic": false, "flowMeta": {"jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "args"}, {"name": "code"}, {"name": "language"}, {"name": "output"}], "return": {"type": "object"}, "uniqueName": "e147f301-957a-4335-a155-1e86d1a45ae5"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "c3e68b6b-0448-408f-b1d7-c1ae46047395", "from": "Expand", "name": "args", "type": "Object", "value": [{"id": "877febee-00a9-4e8f-9cd2-83d8de650630", "from": "Reference", "name": "input", "type": "String", "value": ["output", "llmOutput"], "referenceId": "f6f6612f-75ff-47a8-ba84-666e19c85d82", "referenceKey": "llmOutput", "referenceNode": "jadeasze4z"}]}, {"id": "7f718840-87ba-4555-ac5f-ff2e3daf5728", "from": "Input", "name": "code", "type": "String", "value": "async def main(args: Args) -> dict:\n    solution_list =[\n  {\n    \"方案编号\": \"方案1-1-1\",\n    \"方案标题\": \"无法使用指定支付方式（如信用卡、第三方支付）怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果您遇到无法使用指定支付方式的情况，例如信用卡、第三方支付平台（支付宝、微信支付等）无法使用，建议您首先检查网络是否稳定、账户余额或授信额度是否足够，以及所使用的支付渠道是否在维护或出现故障。若确认无异常，您可以尝试更新支付App版本、重启设备或更换其他支付方式。如果问题仍未解决，请及时联系平台客服，提供订单号及无法支付的具体提示，以便我们协助您尽快完成支付。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-2\",\n    \"方案标题\": \"信用卡支付失败或被拒绝怎么办？\",\n    \"方案内容\": \"告知用户：您好，若信用卡支付失败或被拒绝，可能是由于以下原因：1）信用卡额度不足或卡片已过有效期；2）银行对该笔交易进行了风控拦截；3）信用卡信息（有效期、CVV等）填写有误；4）银行系统临时异常。建议您核实卡片状态、额度及账单情况，并尝试与发卡行联系确认是否有交易限制。如仍无法支付，您可更换其他支付方式或联系平台客服，我们会协助您查询失败原因并提供解决方案。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-3\",\n    \"方案标题\": \"第三方支付跳转异常如何处理？\",\n    \"方案内容\": \"告知用户：您好，若第三方支付页面无法正常跳转或出现空白、报错等现象，可能与网络环境不稳定、浏览器或App版本不兼容、支付平台故障等因素有关。您可以尝试切换网络（如Wi-Fi与移动数据）、清理浏览器缓存或更新支付App后重新尝试支付。若多次重试仍异常，请记录具体报错页面并联系平台客服，我们将与支付平台核实并协助您尽快完成订单支付。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-4\",\n    \"方案标题\": \"如何更换支付方式？\",\n    \"方案内容\": \"告知用户：您好，如果您在支付页面尚未完成付款，一般可直接在支付选项中切换其他支付渠道（如微信支付、支付宝、银行卡等）。若您已经提交了支付但尚未扣款，您可以尝试取消本次付款或让订单等待支付超时后，重新下单并选择其他支付方式。若订单状态已产生扣款或卡住，请您第一时间联系平台客服，提供订单信息，以帮助您核实是否扣款成功并协助处理后续付款方式的更改。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-5\",\n    \"方案标题\": \"系统或平台提示支付额度限制怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果支付时收到支付额度或单笔限额的提示，可能是银行或第三方支付平台出于安全与风控考虑设置了交易上限，也可能是您当前账户的可用额度不足。建议您致电发卡行或支付平台客服，确认是否可以临时或永久提升额度；若无法提升额度，可尝试分多个订单进行结算或使用其他支付方式。若问题依旧，请与平台客服沟通，我们会协助您调整支付方案。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-6\",\n    \"方案标题\": \"网络或系统超时导致无法支付怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果在支付过程中遇到页面卡顿、网络超时或系统繁忙，建议您先检查网络连接或更换更稳定的网络环境重试。若多次尝试后依旧无法完成支付，可能是支付高峰期导致系统负载较大，您可以间隔一段时间再付款。若仍无法支付，请保留相关截图并联系平台客服，提供订单号和支付异常信息以便我们为您查询并快速排查。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-1\",\n    \"方案标题\": \"如何查询订单是否已成功付款？\",\n    \"方案内容\": \"告知用户：您好，若您不确定订单是否已成功付款，建议您先前往“我的订单”或“订单详情”页面查看支付状态，也可在支付平台（如微信支付、支付宝等）的账单记录中查询是否有对应的交易成功扣款。如果平台显示“支付成功”或“已付款”，通常表示支付已完成；若账单显示扣款成功，但平台订单状态依旧未更新，请联系客服核实处理。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-2\",\n    \"方案标题\": \"担心重复扣款或已重复扣款怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果您担心重复扣款或已被重复扣款，可先查看支付平台的账单记录，确认是否有多笔相同金额、相同订单的扣款信息。若确实存在重复扣款，请及时联系客服并提供订单号、支付截图等凭证，我们将协助核实并为您安排退款或抵扣后续订单。若尚不确认，可留意银行或支付账户的对账单，如发现多余扣款，可随时与我们再次联系。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-3\",\n    \"方案标题\": \"订单状态未更新怎么办？\",\n    \"方案内容\": \"告知用户：您好，若您已完成付款但订单状态未及时更新，可能是系统延迟或网络波动导致的数据同步问题。建议您稍等片刻后刷新订单页面，或尝试退出App/网页重新登录查看。若长期仍显示“待付款”或其他状态与实际不符，请及时提供订单号并联系平台客服，我们将尽快为您查询支付记录并手动刷新订单状态，确保您后续使用无碍。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-4\",\n    \"方案标题\": \"支付后页面卡住，无法确认是否支付成功怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果在完成支付后页面卡住或闪退，您可通过查看支付渠道的账单记录来确认是否已扣款，也可在平台“我的订单”中刷新查看订单支付状态。若账单记录显示扣款成功，但订单页面依旧无法显示已付款，请保留相关截图并联系平台客服处理。若账单未显示扣款，说明可能支付未成功，您可尝试重新发起付款操作或更换支付方式。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-5\",\n    \"方案标题\": \"收到扣款短信但订单未显示成功怎么办？\",\n    \"方案内容\": \"告知用户：您好，若您收到了银行或支付平台的扣款短信，但平台订单仍显示未支付，可能是短信通知存在延迟或支付结果返回延迟导致。请您先在支付平台查看实际扣款记录，并尝试刷新“我的订单”页面。若多次刷新后依旧显示未支付，可提供订单号、支付凭证给平台客服，我们会帮助查询付款记录并为您同步更新订单状态。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-6\",\n    \"方案标题\": \"想要修改支付金额或添加优惠券怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果您还未完成支付或订单暂未扣款，可尝试返回购物车或订单确认页，重新选择/输入优惠券并更新支付金额后再提交支付。若订单已生成但尚未付款，也可尝试取消该订单后重新下单并使用优惠券。若订单已支付成功，则无法直接修改支付金额。若确有金额变动需求，请联系平台客服说明情况，我们会评估是否可通过售后或其他方式进行差价处理。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-7\",\n    \"方案标题\": \"想要取消已发起的支付怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果您已在支付页面确认付款但尚未成功扣款，通常可等待订单自动关闭或联系平台客服尝试撤回支付请求。若款项已扣但状态未更新，您可提出退款申请，或与客服协商后续处理方式。请您第一时间保留相关支付记录，并说明发起支付的具体时间，以帮助我们尽快确认交易状态并妥善安排后续处理。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-8\",\n    \"方案标题\": \"系统或平台提示需人工核验怎么办？\",\n    \"方案内容\": \"告知用户：您好，部分大额交易或异常交易会触发系统风控，导致需人工核验支付信息。建议您根据提示提交相关证明材料或按照平台要求进行身份核验，以保障交易安全。若核验步骤繁琐或时间较长，请耐心等待审核结果，也可联系平台客服进行跟进处理。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-9\",\n    \"方案标题\": \"忘记支付密码怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果您忘记了支付密码，可以在对应支付平台（如支付宝、微信支付、银行卡App等）的“忘记密码”或“重置密码”入口尝试找回，通常需要绑定的手机号或身份证信息进行验证。若您无法完成验证，可联系支付平台或发卡行人工客服寻求协助。建议您及时更新密码并妥善保管，以防资金风险。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-10\",\n    \"方案标题\": \"第三方支付平台提示风控或风险警告怎么办？\",\n    \"方案内容\": \"告知用户：您好，若第三方支付平台提示交易风险或风控警告，可能由于交易金额较大、支付环境异常、账户异常登录等原因触发安全策略。建议您先进行账户安全验证，如人脸识别、短信验证码等，并确保在常用设备与网络环境下进行支付。若多次尝试仍无法通过，请联系支付平台客服进行核实解除风控，也可尝试更换其他支付方式。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-11\",\n    \"方案标题\": \"无法使用优惠券或代金券怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果您在结算时发现优惠券或代金券无法使用，可能是由于使用范围、有效期或订单金额门槛等限制。请您先查看优惠券的使用规则，确认与所选商品或订单是否匹配。若确认符合使用条件却仍无法使用，请尝试更换结算场景（如App端/网页端）或重启后再试。若问题依然存在，请与平台客服联系，我们会协助您排查并核实优惠券的可用状态。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-12\",\n    \"方案标题\": \"用户怀疑被盗刷或非本人操作怎么办？\",\n    \"方案内容\": \"告知用户：您好，若您怀疑账户被盗或出现非本人支付的情况，请第一时间冻结支付账户（如微信支付、支付宝、银行卡等）并修改密码。同时联系支付平台或发卡行说明异常交易情况，以防后续资金损失。您也可提供订单信息给我们，我们将协助配合调查。若涉及严重盗刷或诈骗，请及时保留证据并向公安机关报案，以便进一步处理。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-13\",\n    \"方案标题\": \"其他支付状态异常如何处理？\",\n    \"方案内容\": \"告知用户：您好，若遇到支付过程中出现难以归类或罕见的异常，例如错误代码提示不明确、支付系统崩溃等，建议您截图或记录错误提示详情，并保持订单号、支付时间及相关信息的完整。请及时与平台客服联系说明情况，我们会第一时间排查问题，必要时联系支付平台或银行协助处理，确保您的交易尽快恢复正常。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-1\",\n    \"方案标题\": \"用户申请退款，想咨询流程与所需时长怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果您需要申请退款，可进入“订单详情”点击“申请退款”或“售后服务”选项，根据页面指引提交退款申请。退款通常需要一定的审核和处理时间，一般为1-7个工作日（具体时长视支付渠道及平台规定而定）。若超过预计时长未到账，请再次联系平台客服或支付渠道客服进行核实。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-2\",\n    \"方案标题\": \"退款状态迟迟未到账怎么办？\",\n    \"方案内容\": \"告知用户：您好，若您的退款已显示审核通过但迟迟未到账，可能由于银行结算周期或支付平台处理时延导致。建议您查看支付账户或银行卡对账单，并耐心等待1-3个工作日。若超过该期限仍无退款入账，请提供退款申请编号、订单号以及付款凭证，联系我们或支付平台客服进行排查，以确认退款款项的实际去向。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-3\",\n    \"方案标题\": \"售后纠纷，需要调解或仲裁怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果您对退款、售后等处理意见有异议或发生纠纷，您可以在订单详情或帮助中心中提交“售后申诉”或“平台仲裁”申请。平台会依据相关规则、聊天记录、物流信息和支付凭证等证据进行评估并给出处理结果。如仍无法达成一致，建议您保留订单及相关凭证，可寻求消费者协会或相关监管部门协助。我们也会全力配合，保障您的合法权益。\"\n  }\n] \n\n    ret: Output = {\n        \"方案编号\": \"无\",\n        \"方案标题\": \"无\",\n        \"方案内容\": \"无\"\n    }\n    \n    input_code = args[\"input\"]\n    for solution in solution_list:\n        if solution.get(\"方案编号\") == input_code:\n             ret: Output = solution\n\n\n    return ret", "language": "python"}, {"id": "4f6ade2e-4d0b-47fd-8bc0-c9e0592eaa5a", "from": "Input", "name": "language", "type": "String", "value": "python"}, {"id": "01968ee8-ac56-4508-80a1-11480bcb9ee5", "from": "Input", "name": "output", "type": "Object", "value": {"properties": {"output": {"type": "object", "properties": {"方案内容": {"type": "string", "description": ""}, "方案标题": {"type": "string", "description": ""}, "方案编号": {"type": "string", "description": ""}}, "description": ""}}}}], "outputParams": [{"id": "ddd98e24-aa7e-4f5f-926d-883209c3b98e", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "b72d0c07-7eaa-41dc-9115-98991174eb12", "from": "Input", "name": "方案编号", "type": "String", "value": "", "description": ""}, {"id": "c00d66c7-2b7a-4507-903b-1bcf7a503b6b", "from": "Input", "name": "方案标题", "type": "String", "value": "", "description": ""}, {"id": "d7783929-7527-4bc8-99fb-2263d548bc73", "from": "Expand", "name": "方案内容", "type": "String", "value": "", "description": ""}]}]}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "codeComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 2705.9866699583063, "y": 149.9880952380953, "id": "jade52l241", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 18, "textX": 0, "textY": 0, "width": 328.2499999999991, "hAlign": "center", "height": -100.75000000000011, "italic": false, "margin": 20, "toShape": "jade3q9168", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadem7w2r0", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 2276.320003291643, "y": 445.65476190476204, "id": "jadej49nnf", "pad": 6, "bold": false, "text": "代码_售后", "type": "codeNodeState", "dirty": true, "index": 19, "width": 368, "height": 252, "italic": false, "flowMeta": {"jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "args"}, {"name": "code"}, {"name": "language"}, {"name": "output"}], "return": {"type": "object"}, "uniqueName": "e147f301-957a-4335-a155-1e86d1a45ae5"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "8e087586-5620-4547-ada9-42b9733dd737", "from": "Expand", "name": "args", "type": "Object", "value": [{"id": "22a7552a-e94f-4f65-a630-5867fea4a3fd", "from": "Reference", "name": "input", "type": "String", "value": ["output", "llmOutput"], "referenceId": "1ffad476-af2b-4b18-a7da-bbd6356d5c3a", "referenceKey": "llmOutput", "referenceNode": "jade5eaxyf"}]}, {"id": "e57f6503-6df9-4c0c-8f84-deab92c09544", "from": "Input", "name": "code", "type": "String", "value": "async def main(args: Args) -> dict:\n    solution_list =[\n  {\n    \"方案编号\": \"方案1-1-1\",\n    \"方案标题\": \"售后服务申请入口在哪？\",\n    \"方案内容\": \"告知用户：您好，若您需要提交售后申请，一般可以通过以下方式找到入口：1）在App或网站的“我的订单”列表中，找到对应订单，然后点击“申请售后”或“退换货”；2）部分平台提供“售后/客服中心”专区，您可以根据提示进入售后模块。若仍无法找到申请入口，请联系在线客服或拨打商家售后热线，我们将协助您进行售后申请。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-2\",\n    \"方案标题\": \"退换货需要满足哪些条件？\",\n    \"方案内容\": \"告知用户：您好，退换货通常需要满足以下条件：1）商品本身存在质量或功能性问题；2）商品在无拆封或不影响二次销售的前提下且在平台规定的时间内；3）符合国家相关三包政策或平台的退换货规则（如“7天无理由退换”等）。具体请您查看商品详情页或平台售后政策说明，或咨询客服以获取更准确的信息。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-3\",\n    \"方案标题\": \"售后申请被驳回，如何重新提交？\",\n    \"方案内容\": \"告知用户：您好，售后申请被驳回可能是因为资料不全、超出售后期限或不符合退换货条件等。建议您先查看驳回原因并进行针对性修改，例如补充凭证或说明问题详情。若您仍有异议，请联系商家或平台客服，说明具体情况并提供足够的材料证明，以便重新评估。若符合售后规则，您可重新在订单详情页发起新的售后申请。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-4\",\n    \"方案标题\": \"如何邮寄退货，运费谁来承担？\",\n    \"方案内容\": \"告知用户：您好，若您需要将商品邮寄回商家进行退换，通常可以在售后申请通过后查看具体的退货指引。平台或商家会提供退货地址及注意事项。关于运费承担，一般视问题归因而定：1）若属于商品质量问题或商家原因，运费多由商家承担，可选择“到付”或垫付后由商家报销；2）若因个人原因退货（如不喜欢/选错），需由您自行承担运费。建议您在申请售后时先确认运费说明，以免造成不必要的误解。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-5\",\n    \"方案标题\": \"退换货进度如何查询？\",\n    \"方案内容\": \"告知用户：您好，若您已经提交退换货申请，可以通过以下方式查询进度：1）在“我的订单”页面找到对应订单，点击“售后进度”或“售后详情”；2）查看系统通知或短信提醒；3）若退货已发出，您也可通过物流单号查询运送及签收情况。若长时间没有处理进度更新，请联系平台或商家客服，提供订单号与申请信息以便加快查询。\"\n  },\n  {\n    \"方案编号\": \"方案1-1-6\",\n    \"方案标题\": \"售后申请材料或凭证怎么提供？\",\n    \"方案内容\": \"告知用户：您好，若商家或平台需要您提供商品照片、视频、发票或其他证明材料，通常可在售后申请时上传电子版到指定入口。若系统没有上传入口，可尝试与客服在线沟通，发送相应凭证进行补充。为了加快售后处理进度，建议您尽量提供清晰、完整的证据或说明。若对材料格式有限制，请在拍摄前先查看相关指引。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-1\",\n    \"方案标题\": \"产品保修期是多久？\",\n    \"方案内容\": \"告知用户：您好，不同商品的保修期会因品牌、品类或平台政策而异。一般电子产品会有1年保修期限，家电类商品可能提供更长的保修期（如3年、5年），而部分用品或易耗品可能不享受保修。建议您查看商品详情页或包装上的保修卡，或咨询商家客服了解具体的保修时长与政策。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-2\",\n    \"方案标题\": \"已经过了七天无理由退换期，还能办理售后吗？\",\n    \"方案内容\": \"告知用户：您好，若您的商品已经超过“7天无理由退换”的时间范围，依然可以根据商品的保修政策或三包规定来申请售后。若商品出现功能性故障或质量问题，您可以联系商家或平台客服，提交相应的检测报告或问题描述，查看是否符合保修或退换条件。如超过保修期或不属于保修范围，也可商议付费维修或其他解决方案。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-3\",\n    \"方案标题\": \"保修范围具体包含哪些项目？\",\n    \"方案内容\": \"告知用户：您好，保修范围通常包括商品在正常使用情况下出现的非人为损坏、质量缺陷或功能性故障。若是因个人使用不当或外力损坏（如进水、摔坏、私自拆机等），可能无法免费保修或仅能进行付费维修。不同品牌或商家在保修条例上会略有差异，建议您查看商品附带的保修卡或咨询客服以确认具体保修范围。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-4\",\n    \"方案标题\": \"售后时效为什么这么久？\",\n    \"方案内容\": \"告知用户：您好，售后时效受多方面因素影响，例如：1）商品寄回及物流往返所需时间；2）商家或厂家检测、维修、换货流程；3）节假日或旺季导致售后处理量大。若您觉得等待时间过久，可随时联系平台或商家客服，了解当前进度或申请加急处理。我们也会根据实际情况协调商家尽快处理您的售后需求。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-5\",\n    \"方案标题\": \"二次售后、维修或检测问题该怎么办？\",\n    \"方案内容\": \"告知用户：您好，如果商品已做过一次售后（维修或换货），但问题仍未解决或再次出现故障，您可以再次发起售后申请，并附上前一次售后的相关材料（维修记录、检测报告等）。商家或平台会基于此前的处理结果进行二次检测或维修。若屡次出现同样问题或严重质量缺陷，您可与商家或平台协商换货或退款。若与商家无法达成一致，可申请平台介入或第三方仲裁。\"\n  },\n  {\n    \"方案编号\": \"方案2-1-6\",\n    \"方案标题\": \"保修是否包含配件/耗材？\",\n    \"方案内容\": \"告知用户：您好，一般情况下，易损耗配件或消耗品（如电池、耳机线、滤芯等）可能不在免费保修范围内，具体需依据商品品牌和厂家政策。例如，一些产品仅对主机部分提供保修，而对配件提供短期质保或不保修。若您不确定，可查看商品说明书、保修卡或询问商家客服，了解配件/耗材的具体保修政策。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-1\",\n    \"方案标题\": \"售后审核通过/不通过，后续怎么办？\",\n    \"方案内容\": \"告知用户：您好，若售后审核通过，会根据您申请的类型执行退款、换货或维修等后续操作。您可关注订单详情或售后记录，了解进度。若售后审核不通过，请先查看不通过原因，通常是资料缺少、不符合退换条件或过保等。若您对结果有疑议，可联系商家或平台客服提供补充材料，再次申请复核。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-2\",\n    \"方案标题\": \"换货结果何时能发出或寄回？\",\n    \"方案内容\": \"告知用户：您好，换货流程通常是在商家或平台收到您寄回的商品后，进行验收或检测，确认符合换货条件后才会安排新的商品寄出。时间可能受到库存、物流等影响，一般会在数个工作日内完成。若您长时间未收到更新，可联系商家或平台客服，提供换货申请编号或订单号，查询具体进度。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-3\",\n    \"方案标题\": \"退款迟迟未到账怎么办？\",\n    \"方案内容\": \"告知用户：您好，若售后审核通过后您一直未收到退款，可能是由于银行/第三方支付平台的处理时效所致，一般需要1-7个工作日。若超过平台承诺或常规时效，请您先查看支付账户或银行卡对账单，确认是否已经入账；若确实未到账，可联系平台客服并提供退款申请号，我们会协助核查并催促财务或支付渠道加快处理。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-4\",\n    \"方案标题\": \"产品检测报告如何查看？\",\n    \"方案内容\": \"告知用户：您好，若您在售后过程中需要查看商品的检测报告，可通过以下途径获取：1）与商家客服沟通，让其提供维修或检测部门出具的详细报告；2）部分平台会将检测报告上传至订单售后详情中，您可在售后进度或“查看详情”里下载查看。若您对报告结果有异议，请与客服沟通并提供相应佐证，以便进一步核实。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-5\",\n    \"方案标题\": \"售后维修完成后如何确认或验收？\",\n    \"方案内容\": \"告知用户：您好，维修或检测完成后，商家通常会将商品寄回给您。收到后，请及时检查商品外观及功能是否修复到位。若您发现问题依旧存在或新问题出现，可再次联系商家或平台客服说明情况，并提供必要的验收凭证。若对商品维修质量有疑虑，也可申请第三方检测或商家再次进行复检。\"\n  },\n  {\n    \"方案编号\": \"方案3-1-6\",\n    \"方案标题\": \"寄回后商家一直没有反馈怎么办？\",\n    \"方案内容\": \"告知用户：您好，若您已将商品寄回给商家但迟迟没有收到任何反馈，建议您先查看物流单号确认商家是否已签收。若已签收却无进度更新，可通过平台售后沟通渠道或客服热线联系商家催促处理，并提供寄回凭证（物流单号、寄件日期等）。若多次沟通无果，可申请平台介入或投诉，以保障您的合法权益。\"\n  }\n] \n\n    ret: Output = {\n        \"方案编号\": \"无\",\n        \"方案标题\": \"无\",\n        \"方案内容\": \"无\"\n    }\n    \n    input_code = args[\"input\"]\n    for solution in solution_list:\n        if solution.get(\"方案编号\") == input_code:\n             ret: Output = solution\n\n\n    return ret", "language": "python"}, {"id": "90e8b799-06b7-4650-809a-a47b0b4ed964", "from": "Input", "name": "language", "type": "String", "value": "python"}, {"id": "bfb20f98-4ed1-4bb0-9399-56b53caafbc2", "from": "Input", "name": "output", "type": "Object", "value": {"properties": {"output": {"type": "object", "properties": {"方案内容": {"type": "string", "description": ""}, "方案标题": {"type": "string", "description": ""}, "方案编号": {"type": "string", "description": ""}}, "description": ""}}}}], "outputParams": [{"id": "d906dd17-8d2a-4507-82f5-dfa5d8cdb90f", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "f91e426c-309f-4046-9ac1-d5bf80b3da5a", "from": "Input", "name": "方案编号", "type": "String", "value": "", "description": ""}, {"id": "8fa659ec-ae78-41e0-924c-9b59a343f439", "from": "Input", "name": "方案标题", "type": "String", "value": "", "description": ""}, {"id": "ff0170ff-d881-4ac7-9bf1-92b21df27270", "from": "Expand", "name": "方案内容", "type": "String", "value": "", "description": ""}]}]}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "codeComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 2644.320003291643, "y": 571.654761904762, "id": "jadeh49oik", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 20, "textX": 0, "textY": 0, "width": 389.9166666666624, "hAlign": "center", "height": -522.4166666666669, "italic": false, "margin": 20, "toShape": "jade3q9168", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadej49nnf", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 1772.9866699583067, "y": -4.345238095237846, "id": "jadeasze4z", "pad": 6, "bold": false, "text": "解决方案专家-支付", "type": "llmNodeState", "dirty": true, "index": 21, "width": 360, "height": 344, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "3d71644f-5331-4ccf-b048-2dea991e811e", "from": "Input", "name": "model", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "2f6fc5c4-39f2-4cc8-812e-ebc7990bad93", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "552b391e-2307-49b6-b954-2a8b9deada81", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "bd7c53a2-286e-41ee-bfbc-57fd99d3ce1c", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "971cede6-2c4f-4425-97e9-1613c6dcec47", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "b93e8819-7b04-43b4-a29c-295785fd0b80", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "ea2ade1f-ebcf-4e70-a2bc-b51ca41ce344", "from": "Input", "name": "template", "type": "String", "value": "用户本轮的问题：{{query}}\n\n==========下面为历史对话记录\n```\n{{his}}\n```"}, {"id": "da60c163-4581-46aa-ba7f-66f9b9899375", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "13e73f8a-8669-4c22-af2d-e31151259932", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "42cbede0-2365-44c3-b653-97a9d04bcfc7", "from": "Reference", "name": "his", "type": "Array", "value": ["memories"], "referenceId": "memories", "referenceKey": "memories", "referenceNode": "_systemEnv"}]}]}, {"id": "bad19456-350f-4532-a48a-cd265ebaa949", "from": "Input", "name": "maxMemoryRounds", "type": "Integer", "value": "6"}, {"id": "8e01a3f2-2b64-4120-8aec-8988b77734f4", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "c48b07b8-428a-4637-9675-e5be6ec70b8a", "from": "Input", "name": "systemPrompt", "type": "String", "value": "# 你的工作任务如下：\n\n## 第一步：识别用户诉求  \n请从输入信息中的“历史会话”中提取用户当前遇到的问题与核心诉求。\n\n## 第二步：判断所属场景  \n根据用户表述的问题内容，将其归类至以下三个场景之一，便于后续匹配解决方案。\n\n// 以下为参考场景分类，请根据实际业务替换  \n- 若用户询问支付方式或渠道相关问题，则归为【场景1】  \n  - 典型问题包括：无法使用信用卡、支付方式被限制、支付跳转失败、额度受限、网络问题导致无法支付等  \n- 若用户关注支付结果或支付状态问题，则归为【场景2】  \n  - 典型问题包括：订单已扣款但状态未更新、疑似重复扣费、支付成功但未生效、支付失败原因、支付取消等  \n- 若用户咨询退款或售后支付问题，则归为【场景3】  \n  - 典型问题包括：退款申请、退款未到账、退回路径不明确、售后仲裁争议等  \n\n## 第三步：匹配问题类型并确定方案编号  \n请根据第二步归类的场景，在下列问题类型中选出最符合用户问题的子类，并输出对应的方案编号。\n\n// 以下为示例方案编号与问题分类，请按实际内容调整  \n\n\n### 场景1：支付方式与渠道问题  \n- 问题1-1-1：无法使用信用卡或第三方支付 → 方案1-1-1  \n- 问题1-1-2：信用卡支付失败或被拒 → 方案1-1-2  \n- 问题1-1-3：支付跳转异常 → 方案1-1-3  \n- 问题1-1-4：想更换支付方式 → 方案1-1-4  \n- 问题1-1-5：支付额度受限 → 方案1-1-5  \n- 问题1-1-6：因网络/系统原因无法支付 → 方案1-1-6  \n\n### 场景2：支付结果与状态问题  \n- 问题2-1-1：订单是否支付成功 → 方案2-1-1  \n- 问题2-1-2：重复扣款或怀疑重复扣费 → 方案2-1-2  \n- 问题2-1-3：支付成功但订单未更新 → 方案2-1-3  \n- 问题2-1-4：支付后页面卡住 → 方案2-1-4  \n- 问题2-1-5：收到扣款提醒但订单未生效 → 方案2-1-5  \n- 问题2-1-6：修改支付金额或添加优惠券 → 方案2-1-6  \n- 问题2-1-7：用户想取消支付 → 方案2-1-7  \n- 问题2-1-8：提示需人工核验 → 方案2-1-8  \n- 问题2-1-9：忘记支付密码 → 方案2-1-9  \n- 问题2-1-10：第三方支付风控拦截 → 方案2-1-10  \n- 问题2-1-11：优惠券/代金券无法使用 → 方案2-1-11  \n- 问题2-1-12：怀疑被盗刷或非本人操作 → 方案2-1-12  \n- 问题2-1-13：其他支付状态异常 → 方案2-1-13  \n\n### 场景3：退款与售后支付问题  \n- 问题3-1-1：用户申请退款，咨询流程和时长 → 方案3-1-1  \n- 问题3-1-2：退款迟迟未到账 → 方案3-1-2  \n- 问题3-1-3：售后纠纷需仲裁 → 方案3-1-3  \n\n\n## 第四步：输出方案编号  \n根据你匹配到的具体问题，输出对应的方案编号。\n\n- 输出格式：如 `方案1-1-2`  \n- 若无法匹配到任何方案，请仅输出：`无`\n\n---\n\n# 注意事项：\n\n\n- 只输出方案编号，不附带解释或多余文字  \n- 永远称呼用户为“小主”，你自称“小咪”，不得使用其他称呼  \n- 回复内容必须根据上下文自然承接，不能机械或重复地使用同一类话术  \n- 若用户连续提出相似问题，不能再次输出相同方案编号，应使用安抚性话术灵活回应  \n\n\n---\n\n# 示例（标准范例）\n## 正确示例（GoodCase）  \n以下是正确的示例，要学习参考：\n### 输出：\n方案2-1-2\n\n### 限制\n请按输出格式输出本次对话的方案编号，不要输出其他内容"}, {"id": "ded2d791-4f8b-490f-96b2-eb841b37e168", "from": "Input", "name": "enableLog", "type": "Boolean", "value": false}, {"id": "be07d2f3-00cb-4532-8b78-64b89da66528", "from": "Expand", "name": "knowledgeBases", "type": "Array", "value": []}], "outputParams": [{"id": "794511c3-82a1-41d5-b0c6-d660d76b76ef", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "f6f6612f-75ff-47a8-ba84-666e19c85d82", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}, {"id": "85c6aaa7-9699-480a-8457-5e44dd2db1e1", "from": "Input", "name": "reference", "type": "Array", "value": [], "description": ""}]}], "tempReference": {}}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "llmComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 1436.4842314584914, "y": -29.211871737525655, "id": "jadenmyrsd", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 22, "textX": 0, "textY": 0, "width": 336.5024384998153, "hAlign": "center", "height": 196.8666336422878, "italic": false, "margin": 20, "toShape": "jadeasze4z", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade263zfk", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "dynamic-1|179be013-c3d8-4d22-8e60-dbd49ad02aa9"}, {"x": 2132.9866699583067, "y": 167.65476190476215, "id": "jadery090x", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 23, "textX": 0, "textY": 0, "width": 204.99999999999955, "hAlign": "center", "height": -17.666666666666856, "italic": false, "margin": 20, "toShape": "jadem7w2r0", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadeasze4z", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 1754.6533366249723, "y": 415.65476190476204, "id": "jade5eaxyf", "pad": 6, "bold": false, "text": "解决方案专家-售后", "type": "llmNodeState", "dirty": false, "index": 24, "width": 360, "height": 344, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "e68cadca-c168-4bea-9cc6-812ff8f4b596", "from": "Input", "name": "model", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "19c557b7-26a0-4560-adec-aa6f732c2eba", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "1d948468-a8bf-4025-b877-9dbd5eaa2e46", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "003df075-100a-4117-9414-0360f7fedcbe", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "c89f5b9f-a091-452b-af06-e35e05099c01", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "37df494b-c7bd-41f8-942b-c0bad9073a9b", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "396ed247-b8b3-48b0-be35-1eb89465e485", "from": "Input", "name": "template", "type": "String", "value": "用户本轮的问题：{{query}}\n\n==========下面为历史对话记录\n```\n{{his}}\n```"}, {"id": "37f84105-06c4-4e9b-b885-d4a010e9cfda", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "bf3d2d8e-ebec-4ef5-af22-073a1b74599c", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "9a307633-8a8d-4d8c-9ffe-5435c1e45a2c", "from": "Reference", "name": "his", "type": "Array", "value": ["memories"], "referenceId": "memories", "referenceKey": "memories", "referenceNode": "_systemEnv"}]}]}, {"id": "02355088-fc23-418f-9f03-b96e61c31748", "from": "Input", "name": "maxMemoryRounds", "type": "Integer", "value": "6"}, {"id": "3243fb9b-b256-4b02-b164-5cb1eb79b6c0", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "b5e5d7b7-81c1-4ccb-860b-a62cd74d5917", "from": "Input", "name": "systemPrompt", "type": "String", "value": "# 你的工作任务如下：\n\n## 第一步：提取用户关键信息  \n请从输入中的“历史会话”字段中识别用户当前提出的主要问题和诉求。\n\n## 第二步：判断所属场景  \n根据用户问题的类型，将其归类到以下三类售后服务场景之一，以便后续匹配解决方案。\n\n// 以下为场景分类示例，请按实际业务调整\n\n- 若用户咨询售后申请或退换货流程问题，则归入【场景1】  \n  - 示例问题：如何提交售后、售后申请条件、退货操作、运费归属、退换进度等  \n- 若用户咨询售后政策或售后时效问题，则归入【场景2】  \n  - 示例问题：售后期限、保修政策、二次维修、服务是否过期、保修范围等  \n- 若用户关注售后的处理结果，则归入【场景3】  \n  - 示例问题：售后审核进度、换货结果、退款到账、检测报告、商家未处理等  \n\n## 第三步：匹配具体问题并判断对应方案  \n结合第二步判断的场景，进一步识别用户具体问题，并输出相应方案编号。\n\n// 以下为示例方案，请结合实际业务调整\n\n### 场景1：售后申请及退换货流程问题  \n- 问题1-1-1：如何找到售后申请入口 → 方案1-1-1  \n- 问题1-1-2：退换货需要满足哪些条件 → 方案1-1-2  \n- 问题1-1-3：售后申请被拒，如何重新提交 → 方案1-1-3  \n- 问题1-1-4：退货怎么寄？运费谁出？ → 方案1-1-4  \n- 问题1-1-5：退换货进度怎么查 → 方案1-1-5  \n- 问题1-1-6：如何上传售后凭证或材料 → 方案1-1-6  \n\n### 场景2：售后政策与时效问题  \n- 问题2-1-1：产品保修期是多久 → 方案2-1-1  \n- 问题2-1-2：已过七天无理由，还能售后吗 → 方案2-1-2  \n- 问题2-1-3：保修范围包括哪些内容 → 方案2-1-3  \n- 问题2-1-4：售后处理为什么这么慢 → 方案2-1-4  \n- 问题2-1-5：二次维修/检测如何处理 → 方案2-1-5  \n- 问题2-1-6：保修是否包含配件或耗材 → 方案2-1-6  \n\n### 场景3：售后处理结果相关问题  \n- 问题3-1-1：售后审核结果已出，接下来怎么办 → 方案3-1-1  \n- 问题3-1-2：换货的商品什么时候发出或寄回 → 方案3-1-2  \n- 问题3-1-3：退款迟迟未到账 → 方案3-1-3  \n- 问题3-1-4：如何查看售后检测报告 → 方案3-1-4  \n- 问题3-1-5：维修完成后怎么确认或验收 → 方案3-1-5  \n- 问题3-1-6：寄回商品后商家未处理 → 方案3-1-6  \n\n## 第四步：输出方案编号  \n根据匹配结果，请直接输出对应的方案编号。\n\n- 输出格式示例：`方案1-1-5`  \n- 如无匹配项，请仅输出：`无`\n\n---\n\n# 注意事项：\n\n- 仅输出方案编号，不得添加解释说明或多余文字  \n- 始终使用“小主”称呼用户，自称为“小咪”  \n- 回复内容需结合上下文，自然衔接，禁止机械重复或话术相似  \n- 如判断为重复问题，请勿再次提供同一方案编号，应以安抚话术回应  \n\n\n---\n\n# 示例（标准示范）\n\n## 输入历史会话  \n用户：已经申请退货了\n用户：还没有消息\n用户：可以加快处理吗\n用户：转人工\n小咪：小主好呀，我是你的专属客服小咪，我看您需要了解退货进度是吗？\n用户：是的，我想问一下退货进度在哪里查\n\n## 输出结果  \n方案1-1-5"}, {"id": "156978ea-90c0-4ddf-8ac4-f6628ccc66df", "from": "Input", "name": "enableLog", "type": "Boolean", "value": false}, {"id": "79cc00e4-6b0a-4c62-9722-ba1961f0fdeb", "from": "Expand", "name": "knowledgeBases", "type": "Array", "value": []}], "outputParams": [{"id": "847d3e0a-099c-481b-a63c-285ca33a580f", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "1ffad476-af2b-4b18-a7da-bbd6356d5c3a", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}, {"id": "0e240dc4-b8dc-4588-903c-a93f76e220bd", "from": "Input", "name": "reference", "type": "Array", "value": [], "description": ""}]}], "tempReference": {}}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "llmComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 1436.4842314584914, "y": 26.788102104550234, "id": "jadeprdr4a", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 25, "textX": 0, "textY": 0, "width": 318.1691051664809, "hAlign": "center", "height": 560.8666598002118, "italic": false, "margin": 20, "toShape": "jade5eaxyf", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade263zfk", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "dynamic-2|8436cd7e-4956-4805-a7fe-6847b9f4194a"}, {"x": 2114.6533366249723, "y": 587.654761904762, "id": "jade9ptdhk", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 26, "textX": 0, "textY": 0, "width": 161.6666666666706, "hAlign": "center", "height": -16, "italic": false, "margin": 20, "toShape": "jadej49nnf", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade5eaxyf", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 1770.4866699583067, "y": 1048.7500000000005, "id": "jadefouxqo", "pad": 6, "bold": false, "text": "沟通协商Agent_1", "type": "llmNodeState", "dirty": true, "index": 27, "width": 360, "height": 344, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "66d32cc3-2294-4fba-94cb-97c8119fffa0", "from": "Input", "name": "model", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "8716b64e-17d1-484a-89c7-2523655ee631", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "d48b6e73-aa41-4a23-b1ab-08f1ec135d68", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "79556262-3353-4302-9efc-67b0fa7f2f2b", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "3d5ef418-de38-4992-aba6-4303921c1297", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "8c14d5ca-0ed8-47c1-977e-06e56b4731f0", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "2e0929b0-3a57-4c9f-a307-f867e211e885", "from": "Input", "name": "template", "type": "String", "value": "## 用户与客服的历史会话\n```以下是用户本轮发送的消息\n{{query}}\n```\n```以下是用户与人工客服的历史会话\n{{his}}\n```\n## 方案\n```\n{{solution}}\n```\n"}, {"id": "ed0d8a8d-2c32-487a-b078-115da55c4c0f", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "7d76d839-fbf6-4a2c-af57-78e18e95ccf5", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "478980a4-5698-4c2b-af77-9a8563fc3d46", "from": "Input", "name": "solution", "type": "String", "value": "未找到结论", "referenceId": "", "referenceKey": "", "referenceNode": ""}]}]}, {"id": "630c6587-6ed2-4362-b4c8-ed11f49d8a49", "from": "Input", "name": "maxMemoryRounds", "type": "Integer", "value": "6"}, {"id": "d677fba5-88d9-4d34-93e1-401718849818", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "3b4ec80c-639b-4cd2-a364-98553b235988", "from": "Input", "name": "systemPrompt", "type": "String", "value": "# 一、角色设定（Role）\n\n## 1.1 你的性格设定  \n- 你的名字叫“小抖”，是一位乐于交流、富有感染力的角色  \n- 你温柔甜美、乐观开朗、情绪稳定，总能用笑容感染他人  \n- 你具备强烈的共情能力，善于识别用户的情绪波动，面对愤怒、委屈、失落等情绪，你总能恰当地安抚并化解\n\n## 1.2 你的职业背景  \n- 你是抖音电商的官方客服，专业且敬业  \n- 你所属的团队包含“分诊专家”“协商专家”“方案专家”等角色，协作完成用户服务  \n- 你的职责是“沟通协商专家”，专注于提供愉悦、高质量的客服体验，负责以下五项任务：  \n  - **开场寒暄**：用户进线时主动问好  \n  - **问题澄清**：了解用户问题及诉求  \n  - **方案协商**：从提供的备选方案中选出最合适方案告知用户  \n  - **情绪安抚**：针对用户负面情绪进行有效疏导  \n  - **服务收尾**：在问题解决后礼貌结束对话  \n- 回复应富有情感，避免模板化、重复话术\n\n---\n\n# 二、你的任务（Task）\n\n- 当用户在抖音商城遇到购物问题时，会来向你咨询  \n- 你需要结合“与智能客服”和“与人工客服”的历史对话内容，理解用户遇到的情况，并提供回应\n\n---\n\n# 三、服务流程（Steps）\n\n## 3.1 判断基本状态  \n\n### 3.1.1 判断是否为首次进线   \n- 判断用户是否首次进入人工客服会话  \n\n### 3.1.2 判断用户情绪  \n- 查询历史对话内容，判断当前情绪为：  \n  - 强烈负向：愤怒、生气等  \n  - 微负向：失望、沮丧、厌烦  \n  - 正向：愉快、开心  \n  - 中性：平和  \n\n### 3.1.3 判断用户问题  \n- 查询历史会话中用户是否明确描述了问题：\n  - 如有：\n    - 询问是否发货 ➝ “催发货”\n    - 查询物流进度 ➝ “查询物流进度”\n    - 其他情况 ➝ 提炼为不超过10个汉字的问题摘要\n  - 如无：\n    - 仅“转人工”或宣泄情绪 ➝ “未描述问题”  \n\n### 3.1.4 判断是否重复提供方案  \n- 查询“小咪已给出的方案”与当前“备选方案”的重合情况  \n- 如果已给出方案包含当前备选方案，则视为重复提供\n\n---\n\n\n## 3.3 服务指南参考  \n\n### 3.3.1 开场寒暄服务指南  \n- 场景：用户首次发送消息  \n- 要求：\n  - 先问好，确认问题后处理  \n  - 情绪负面优先安抚  \n  - 语气要活泼、俏皮，营造轻松氛围\n\n### 3.3.2 澄清问题服务指南  \n- 场景：用户尚未表达清晰问题或诉求  \n- 要求：\n  - 主动理解、设身处地为用户考虑  \n  - 识别并安抚可能的情绪波动  \n  - 表达要热情、礼貌、有亲和力\n\n### 3.3.3 提供与协商方案服务指南  \n- 场景：你需要给出或协商解决方案  \n- 行为逻辑：\n  - 若备选方案与已提供方案不同 ➝ 选择最匹配方案回应  \n  - 若备选方案已包含在之前提供方案中 ➝ 禁止再次给出，只安抚情绪  \n  - 若无备选方案 ➝ 根据服务原则和电商知识合理回应\n\n#### 服务原则（示意）：\n- 热情耐心，禁止讽刺与冷言冷语  \n- 商品/规则类问题尽量答复，无法答复可引导用户联系商家  \n- 操作类问题要提供清晰指导，未解决时鼓励再次咨询  \n\n### 3.3.4 服务收尾指南  \n- 场景：用户已接受方案，或问题已解决  \n- 要求：\n  - 主动致谢，礼貌收尾  \n  - 积极回应用户感谢  \n  - 如用户仍带有情绪，需先安抚后结束\n\n---\n\n## 3.4 输出回复话术  \n\n- 输出形式：纯文本  \n- 限制要求：  \n  - 总字数不超过 80 字  \n  - 必须正面回应用户本轮消息  \n  - 遇到多个问题时须全部回答  \n  - 表达要连贯自然，避免重复、机械式用语\n\n---\n\n# 四、特别注意事项（Attention）\n- 用户统一称为“小主”，你自称“小咪”，不可使用其他称呼  \n- 回应需充分体现用户情绪，注意情感安抚  \n- 避免重复或相似话术，可结合上下文自然承接  \n- 若问题相似，也要变换表达方式，可用无实际内容的话术安抚  \n- 用户接受方案 ➝ 明确承接  \n- 用户拒绝方案 ➝ 优先安抚，再考虑新方案  \n- 用户提出新要求 ➝ 结合你能处理的能力范围给出回应  \n\n\n"}, {"id": "876dea8d-9075-44a8-a11b-812eae61462c", "from": "Input", "name": "enableLog", "type": "Boolean", "value": true}, {"id": "376a58ed-94f3-4265-ad5d-435c514f1395", "from": "Expand", "name": "knowledgeBases", "type": "Array", "value": []}], "outputParams": [{"id": "a13c6aa2-3a3f-4d55-b005-164b034d5642", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "8b800ab7-3936-4e74-90d6-f68d242d90fc", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}, {"id": "48942ed7-d9e1-4a9e-b486-7b1065bd20a6", "from": "Input", "name": "reference", "type": "Array", "value": [], "description": ""}]}], "tempReference": {}}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "llmComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 1436.4842314584914, "y": 73.78811790829604, "id": "jade3w7bw6", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 28, "textX": 0, "textY": 0, "width": 334.0024384998153, "hAlign": "center", "height": 1146.9618820917044, "italic": false, "margin": 20, "toShape": "jadefouxqo", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade263zfk", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "dynamic-999"}, {"x": 2130.4866699583067, "y": 1220.7500000000005, "id": "jadefbd77h", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 29, "textX": 0, "textY": 0, "width": 306.2499999999977, "hAlign": "center", "height": -37.428571428570194, "italic": false, "margin": 20, "toShape": "jadeuuibl6", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadefouxqo", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 2409.6533366249714, "y": -584.4642857142856, "id": "jadeii7mwl", "pad": 6, "bold": false, "text": "注释_1", "type": "noteNode", "dirty": true, "index": 30, "width": 272, "height": 113, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "text_49f8a7a9-7808-454c-8931-55de30f85003", "from": "Input", "name": "text", "type": "String", "value": "<p>三个代码节点存储方案和对应解决方案，可以由知识库代替</p>"}, {"id": "style_bfbe6be8-4ea9-4ece-aa32-cf30fb3cc8e1", "from": "Expand", "name": "style", "type": "Object", "value": [{"id": "backgroundColor_8bc5ebbe-8779-4f4e-a295-fb4488e0c08e", "from": "Input", "name": "backgroundColor", "type": "String", "value": "rgb(234, 243, 255)"}, {"id": "outlineColor_75aaf76b-fb29-4e5f-88b4-49ff012497d6", "from": "Input", "name": "outlineColor", "type": "String", "value": ""}, {"id": "borderColor_aecd6a82-f8d3-4445-8f29-2cddf32723c8", "from": "Input", "name": "borderColor", "type": "String", "value": ""}, {"id": "fontSize_2e79f11b-ff44-4c93-8b55-bd8fd433dcba", "from": "Input", "name": "fontSize", "type": "String", "value": "12"}, {"id": "fontColor_089b99c9-9149-423a-993c-69e5a64243f6", "from": "Input", "name": "fontColor", "type": "String", "value": "rgb(26, 26, 26)"}, {"id": "align_c8d9d207-3fe5-41c7-af19-eef1a270593d", "from": "Input", "name": "align", "type": "String", "value": "JustifyLeft"}, {"id": "listStyle_f67fe852-f020-4bcc-b33f-7710ddcb05af", "from": "Input", "name": "listStyle", "type": "String", "value": "InsertUnorderedList"}]}], "outputParams": []}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hideText": true, "runnable": false, "autoWidth": true, "backColor": "rgb(234, 243, 255)", "container": "elsa-page:tvp1s6", "dashWidth": 0, "minHeight": 92, "namespace": "jadeFlow", "autoHeight": false, "enableMask": false, "rotateAble": false, "borderColor": "rgb(171, 203, 249)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 12, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "noteComponent", "focusBackColor": "rgb(234, 243, 255)", "sourcePlatform": "official", "enableAnimation": false, "focusBorderWidth": 1, "mouseInBorderColor": "rgb(171, 203, 249)"}, {"x": 1827.1533366249723, "y": -593.6309523809525, "id": "jadey1l41h", "pad": 6, "bold": false, "text": "注释_2", "type": "noteNode", "dirty": true, "index": 31, "width": 215, "height": 102, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "text_a3a159ab-7bbd-424c-b0ee-ebd7885a8e01", "from": "Input", "name": "text", "type": "String", "value": "<p>判断问题场景中具体的问题</p>"}, {"id": "style_ebe8b6d6-fa72-436b-be4e-903bf3ca0e1d", "from": "Expand", "name": "style", "type": "Object", "value": [{"id": "backgroundColor_73509270-6211-466d-aabd-02600ecb9776", "from": "Input", "name": "backgroundColor", "type": "String", "value": "rgb(234, 243, 255)"}, {"id": "outlineColor_9fa31ba1-76a5-43fd-a424-b944847e0f23", "from": "Input", "name": "outlineColor", "type": "String", "value": ""}, {"id": "borderColor_7e67b12c-0892-487f-8964-c2294fc8d3a1", "from": "Input", "name": "borderColor", "type": "String", "value": ""}, {"id": "fontSize_893ca865-a7d5-4b26-8af1-ac6ff5e71561", "from": "Input", "name": "fontSize", "type": "String", "value": "12"}, {"id": "fontColor_d9dd5576-95e6-4c33-988e-2ef27b76546e", "from": "Input", "name": "fontColor", "type": "String", "value": "rgb(26, 26, 26)"}, {"id": "align_4b3d23dd-82e4-4a14-90b1-f0e0b711cd36", "from": "Input", "name": "align", "type": "String", "value": "JustifyLeft"}, {"id": "listStyle_93f36bb0-1042-4868-b6a3-4b9c4c2ca95f", "from": "Input", "name": "listStyle", "type": "String", "value": "InsertUnorderedList"}]}], "outputParams": []}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hideText": true, "runnable": false, "autoWidth": true, "backColor": "rgb(234, 243, 255)", "container": "elsa-page:tvp1s6", "dashWidth": 0, "minHeight": 92, "namespace": "jadeFlow", "autoHeight": false, "enableMask": false, "rotateAble": false, "borderColor": "rgb(171, 203, 249)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 12, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "noteComponent", "focusBackColor": "rgb(234, 243, 255)", "sourcePlatform": "official", "enableAnimation": false, "focusBorderWidth": 1, "mouseInBorderColor": "rgb(171, 203, 249)"}, {"x": 3640.486669958308, "y": -310.2976190476196, "id": "jade0gd52y", "pad": 6, "bold": false, "text": "注释_3", "type": "noteNode", "dirty": true, "index": 32, "width": 242, "height": 101, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "text_003fa81c-d5ed-4247-a31b-2899302cac6f", "from": "Input", "name": "text", "type": "String", "value": "<p>由此大模型节点，根据查到的结论，进行话术的优化</p>"}, {"id": "style_67b6a45a-4bb7-4bb9-bda6-39e94329ba3b", "from": "Expand", "name": "style", "type": "Object", "value": [{"id": "backgroundColor_5e784cac-ed9a-42a3-88be-3124e89d646a", "from": "Input", "name": "backgroundColor", "type": "String", "value": "rgb(234, 243, 255)"}, {"id": "outlineColor_83049807-9f42-4dd2-94d9-b220b9fce3d4", "from": "Input", "name": "outlineColor", "type": "String", "value": ""}, {"id": "borderColor_6c1aefca-41b6-41b0-84d5-32a41228af3d", "from": "Input", "name": "borderColor", "type": "String", "value": ""}, {"id": "fontSize_a66f7b4f-809f-4caa-9af3-ffa672d50d91", "from": "Input", "name": "fontSize", "type": "String", "value": "12"}, {"id": "fontColor_495e53cc-7140-48e4-b0cc-7ba3e07888c9", "from": "Input", "name": "fontColor", "type": "String", "value": "rgb(26, 26, 26)"}, {"id": "align_66871cec-5924-4433-9ece-392d0abe83fc", "from": "Input", "name": "align", "type": "String", "value": "JustifyLeft"}, {"id": "listStyle_b827883b-e784-42e2-9583-7c839589de14", "from": "Input", "name": "listStyle", "type": "String", "value": "InsertUnorderedList"}]}], "outputParams": []}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hideText": true, "runnable": false, "autoWidth": true, "backColor": "rgb(234, 243, 255)", "container": "elsa-page:tvp1s6", "dashWidth": 0, "minHeight": 92, "namespace": "jadeFlow", "autoHeight": false, "enableMask": false, "rotateAble": false, "borderColor": "rgb(171, 203, 249)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 12, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "noteComponent", "focusBackColor": "rgb(234, 243, 255)", "sourcePlatform": "official", "enableAnimation": false, "focusBorderWidth": 1, "mouseInBorderColor": "rgb(171, 203, 249)"}], "vAlign": "top", "itemPad": [0, 0, 0, 0], "division": -1, "dockMode": "none", "fontFace": "arial", "fontSize": 18, "hideText": true, "moveable": true, "shapesAs": {}, "backColor": "#fbfbfc", "container": "elsa-page:tvp1s6", "dockAlign": "top", "fontColor": "#ECD0A7", "fontStyle": "normal", "itemSpace": 5, "namespace": "jadeFlow", "fontWeight": "bold", "itemScroll": {"x": 0, "y": 0}, "borderColor": "white", "focusBackColor": "#fbfbfc"}], "title": "63385c92a08f445a9cdc9e2741abcba5", "source": "elsa", "tenant": "31f20efc7e0848deab6a6bc10fc3021e", "setting": {"pad": 10, "tag": {}, "code": "", "pDock": "none", "hAlign": "center", "margin": 25, "shadow": "", "shared": false, "vAlign": "top", "itemPad": [5, 5, 5, 5], "visible": true, "autoText": false, "dockMode": "none", "dragable": true, "editable": true, "fontFace": "arial", "fontSize": 12, "infoType": {"name": "none", "next": "INFORMATION"}, "moveable": true, "priority": 0, "allowLink": true, "autoWidth": false, "backAlpha": 0.15, "backColor": "whitesmoke", "dashWidth": 0, "deletable": true, "fontColor": "steelblue", "fontStyle": "normal", "headColor": "steelblue", "lineWidth": 2, "underline": false, "autoHeight": false, "emphasized": false, "fontWeight": "lighter", "itemScroll": {"x": 0, "y": 0}, "lineHeight": 1.5, "resizeable": true, "rotateAble": true, "scrollLock": {"x": false, "y": false}, "selectable": true, "shadowData": "2px 2px 4px", "borderColor": "#047bfc", "borderWidth": 1, "bulletSpeed": 1, "focusMargin": 0, "focusShadow": "", "globalAlpha": 1, "outstanding": false, "bulletedList": false, "cornerRadius": 4, "enableSocial": true, "mouseInColor": "orange", "numberedList": false, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "rotateDegree": 0, "captionhAlign": "center", "strikethrough": false, "focusBackColor": "whitesmoke", "focusFontColor": "darkorange", "progressStatus": {"name": "NONE", "next": "UNKNOWN", "color": "gray"}, "showedProgress": false, "allNodeNumLimit": 99, "captionfontFace": "arial black", "captionfontSize": 14, "enableAnimation": false, "progressPercent": 0.65, "captionfontColor": "whitesmoke", "captionfontStyle": "normal", "focusBorderColor": "#047bfc", "focusBorderWidth": 1, "mouseInBackColor": "whitesmoke", "mouseInFontColor": "orange", "captionfontWeight": "lighter", "captionlineHeight": 1, "mouseInBorderColor": "#047bfc", "sameTypeNodeNumLimit": 19}, "flowMeta": {"callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.fitable.FlowInfoCallback"]}, "enableOutputScope": true, "exceptionFitables": ["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler", "modelengine.fit.jober.fitable.FlowInfoException"]}, "enableText": false}', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at", "appearance", "is_deleted") VALUES ('e30fddffe6a14c97aa9d0c843d78218e', 'LLM模板', 'system', '2025-06-19 06:47:23.677843', 'system', '2025-06-19 06:47:23.677843', '{"id": "f8d255bd1eac48f3a5b9ef16ff20407f", "type": "jadeFlowGraph", "pages": [{"x": 527.4299967083612, "y": 859.7619047619048, "id": "elsa-page:tvp1s6", "bold": false, "mode": "configuration", "text": "newFlowPage", "type": "jadeFlowPage", "dirty": false, "index": 0, "width": 1600, "hAlign": "left", "height": 800, "isPage": true, "italic": false, "scaleX": 0.8, "scaleY": 0.8, "shapes": [{"x": -264.6428571428571, "y": -342.5, "id": "jade6qm5eg", "pad": 6, "bold": false, "text": "开始", "type": "startNodeStart", "dirty": false, "index": 0, "width": 360, "height": 226, "italic": false, "shadow": "0 2px 4px 0 rgba(0,0,0,.1)", "flowMeta": {"inputParams": [{"id": "91138f09-b635-43df-95c6-1fe3d1745829", "from": "Expand", "name": "input", "type": "Object", "value": [{"id": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "from": "Input", "name": "Question", "type": "String", "value": "", "isVisible": true, "isRequired": true, "description": "这是用户输入的问题。", "displayName": "用户问题", "disableModifiable": true}], "config": [{"allowAdd": true}]}, {"id": "4a770dc6-e3c9-475d-84c7-48dacc74a5b6", "from": "Expand", "name": "memory", "type": "Object", "value": [{"id": "a7675623-7fc7-468c-8910-e73c70e5e468", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": true}, {"id": "cee9a31b-781c-4835-a616-ceed73be22f2", "from": "Input", "name": "type", "type": "String", "value": "ByConversationTurn"}, {"id": "69592622-4291-409d-9d65-9faea83db657", "from": "Input", "name": "value", "type": "Integer", "value": "5"}]}], "triggerMode": "auto"}, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "deletable": false, "namespace": "flowable", "autoHeight": true, "emphasized": false, "rotateAble": false, "borderColor": "rgba(28,31,35,.08)", "borderWidth": 1, "focusShadow": "0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)", "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "startComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "mouseInBorderColor": "rgba(28,31,35,.08)"}, {"x": 1781.9642857142849, "y": -363.5714285714287, "id": "jadesoux5i", "pad": 6, "bold": false, "text": "结束", "type": "endNodeEnd", "dirty": false, "index": 1, "width": 360, "height": 182, "italic": false, "shadow": "0 2px 4px 0 rgba(0,0,0,.1)", "flowMeta": {"callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "54dab89c-5693-4082-baa7-12c648d812f7", "from": "Expand", "name": "finalOutput", "type": "Object", "value": [{"id": "ffad80c2-3f60-4d57-93b2-c2362a5dab9c", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output", "llmOutput"], "editable": true, "isRequired": true, "description": "", "referenceId": "8339ac95-2d1c-42de-8185-44f1355497a7", "referenceKey": "llmOutput", "referenceNode": "jadek7i6bs"}], "editable": false, "isRequired": false, "referenceId": "", "referenceKey": "", "referenceNode": ""}, {"id": "c26bf2ca-75b3-4a6f-bc47-132c2e170895", "from": "Input", "name": "enableLog", "type": "Boolean", "value": false}], "outputParams": [{}]}}}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "deletable": true, "namespace": "flowable", "autoHeight": true, "emphasized": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "focusShadow": "0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)", "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "endComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 303.82000329163884, "y": -464.7619047619048, "id": "jadet1poiu", "pad": 6, "bold": false, "text": "问题分类", "type": "questionClassificationNodeCondition", "dirty": false, "index": 2, "width": 360, "height": 439, "italic": false, "flowMeta": {"jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "classifyQuestionParam"}, {"name": "memoryConfig"}, {"name": "memorySwitch"}, {"name": "histories"}], "return": {"type": "string"}, "uniqueName": "70d1adbd-3421-4cb0-9231-fa357688b706"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"ids": ["0d665582-4a48-4961-aeb0-7472a59132d8", "9e7a5be3-3d22-4e38-8ae6-6da4883a5449", "fb856007-4f3b-47ec-ab2f-abb920235c15"], "disabled": false, "inputParams": [{"id": "classifyQuestionParam_1a1ad2e5-4952-47c5-a84c-667d343154e3", "from": "Expand", "name": "classifyQuestionParam", "type": "Object", "value": [{"id": "args_9e72d0de-2f8b-4e5d-9b15-61804f7a272e", "from": "Expand", "name": "args", "type": "Object", "value": [{"id": "f25fe951-b432-48a0-bcb6-be07f1605497", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "editable": false, "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}]}, {"id": "template_5f54e391-da39-46a7-9be3-196abf7b78c1", "from": "Input", "name": "template", "type": "String", "value": ""}, {"id": "b0c25f84-9ab7-4225-9737-1a2b04113183", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "46b2ea81-18d4-4678-8d89-c9347c6013ed", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "61760aa1-a826-4591-b1cf-cce7783e7b00", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "temperature_205ab6dc-8acf-436a-b8c0-31b8913ce5f2", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "questionTypeList_f53053f3-8a94-4b82-b49e-f82435a62765", "from": "Expand", "name": "questionTypeList", "type": "Array", "value": [{"id": "bdfe7918-6f6c-45cf-a20f-8dde58775390", "from": "Expand", "type": "Object", "value": [{"id": "questionTypeId_d82a1d80-8861-4876-be84-b78c6b736560", "from": "Input", "name": "id", "type": "String", "value": "8739c364-286b-400a-be88-10676eb4eafb"}, {"id": "questionTypeDesc_e2ceec79-2243-4cda-928e-5e71a9d45a4b", "from": "Input", "name": "questionTypeDesc", "type": "String", "value": "想要抽塔罗牌"}], "runnable": true, "conditionType": "if"}, {"id": "b5fc0653-5360-494c-aeda-184d5b284a9d", "from": "Expand", "type": "Object", "value": [{"id": "questionTypeId_45220de8-5b40-4381-bd51-d55cf1511106", "from": "Input", "name": "id", "type": "String", "value": "ada5f5fb-9d90-410c-9837-c677fc3661dd"}, {"id": "questionTypeDesc_caa5bad9-2f06-4b14-a6e8-46b9a75a5dcb", "from": "Input", "name": "questionTypeDesc", "type": "String", "value": "其他问题分类"}], "runnable": true, "conditionType": "else"}]}]}, {"id": "memoryConfig_f78362f1-2776-4caf-b100-085ada00f95a", "from": "Expand", "name": "memoryConfig", "type": "Object", "value": [{"id": "windowAlg_e1c20e65-4c7f-4adc-95a0-75895a6f724c", "from": "Input", "name": "windowAlg", "type": "String", "value": "buffer_window"}, {"id": "serializeAlg_104f6fde-1b62-481e-97af-e0fbef27eeef", "from": "Input", "name": "serializeAlg", "type": "String", "value": "full"}, {"id": "property_868d20b8-33b2-4878-a631-3ba28597e486", "from": "Input", "name": "property", "type": "Integer", "value": 0}]}, {"id": "memorySwitch_74c7b207-7fdf-4af7-bfbd-fd50a405edb3", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": false}, {"id": "histories_9c420f4b-a6dc-41cf-b914-d8fc41a41726", "from": "Reference", "name": "histories", "type": "Array", "value": ["memories"], "referenceId": "memories", "referenceKey": "memories", "referenceNode": "_systemEnv"}], "outputParams": [{"id": "output_7b3d45c2-1903-4a44-8c5c-807fa157d21f", "from": "Input", "name": "output", "type": "String", "value": ""}], "jadeNodeConfigChangeIgnored": false}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto", "conditionParams": {"branches": [{"id": "da44772c-72da-4999-9a88-e4073bdc9d1b", "type": "if", "runnable": true, "conditions": [{"id": "f5b7904b-9e66-4adc-adad-93ff6b31f30d", "value": [{"id": "f5322eec-0764-480f-b107-77f721212676", "from": "Reference", "name": "left", "type": "String", "value": ["output"], "referenceId": "output_7b3d45c2-1903-4a44-8c5c-807fa157d21f", "referenceKey": "output", "referenceNode": "jadet1poiu"}, {"id": "bc58ee6a-2b3b-4739-9685-55788f123cac", "from": "Input", "name": "right", "type": "String", "value": "8739c364-286b-400a-be88-10676eb4eafb"}], "condition": "equal"}], "conditionRelation": "and"}, {"id": "2e339208-b130-4944-9f46-8dc052cea98d", "type": "else", "runnable": true, "conditions": [{"id": "6759d34c-122b-4be7-8894-7b81995caa24", "value": [], "condition": "true"}], "conditionRelation": "and"}]}}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "questionClassificationComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 95.35714285714289, "y": -229.5, "id": "jadewndwdj", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": false, "index": 3, "textX": 0, "textY": 0, "width": 208.46286043449595, "hAlign": "center", "height": -15.761904761904816, "italic": false, "margin": 20, "toShape": "jadet1poiu", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade6qm5eg", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 835.0700032916388, "y": -434.7619047619048, "id": "jade9le7h8", "pad": 6, "bold": false, "text": "抽卡", "type": "codeNodeState", "dirty": false, "index": 4, "width": 368, "height": 252, "italic": false, "flowMeta": {"jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "args"}, {"name": "code"}, {"name": "language"}, {"name": "output"}], "return": {"type": "object"}, "uniqueName": "e147f301-957a-4335-a155-1e86d1a45ae5"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "a95e03b0-6049-4d0c-a64a-e3dea391ba2e", "from": "Expand", "name": "args", "type": "Object", "value": [{"id": "060bf13e-e251-4866-a412-e347b70f5441", "from": "Reference", "name": "id", "type": "String", "value": ["instanceId"], "referenceId": "instanceId", "referenceKey": "instanceId", "referenceNode": "_systemEnv"}]}, {"id": "bd3645a2-a50b-4bfc-9d6f-82ca76c94959", "from": "Input", "name": "code", "type": "String", "value": "async def main(args: Args) -> dict:\n    params = args\n    seed_str = args[\"id\"]\n\n    cards = [\n        \n    (\"愚者\", \"新的开始和无限的可能性。\"),\n    (\"魔术师\", \"创造力和行动力。\"),\n    (\"女祭司\", \"直觉和内在智慧。\"),\n    (\"皇后\", \"丰饶和母性。\"),\n    (\"皇帝\", \"权威和结构。\"),\n    (\"教皇\", \"传统和精神指导。\"),\n    (\"恋人\", \"爱情和选择。\"),\n    (\"战车\", \"意志力和胜利。\"),\n    (\"力量\", \"勇气和内在力量。\"),\n    (\"隐士\", \"内省和孤独。\"),\n    (\"命运之轮\", \"命运和变化。\"),\n    (\"正义\", \"公正和平衡。\"),\n    (\"倒吊人\", \"牺牲和新的视角。\"),\n    (\"死神\", \"结束和转变。\"),\n    (\"节制\", \"和谐和适度。\"),\n    (\"恶魔\", \"诱惑和束缚。\"),\n    (\"高塔\", \"突变和解放。\"),\n    (\"星星\", \"希望和灵感。\"),\n    (\"月亮\", \"幻象和潜意识。\"),\n    (\"太阳\", \"快乐和成功。\"),\n    (\"审判\", \"觉醒和复兴。\"),\n    (\"世界\", \"完成和成就。\"),\n    (\"权杖王牌\", \"新的创意和激情。\"),\n    (\"权杖二\", \"计划和决策。\"),\n    (\"权杖三\", \"远见和探索。\"),\n    (\"权杖四\", \"庆祝和稳定。\"),\n    (\"权杖五\", \"冲突和竞争。\"),\n    (\"权杖六\", \"胜利和认可。\"),\n    (\"权杖七\", \"防御和挑战。\"),\n    (\"权杖八\", \"快速行动和进展。\"),\n    (\"权杖九\", \"坚韧和毅力。\"),\n    (\"权杖十\", \"负担和责任。\"),\n    (\"权杖侍者\", \"好奇和冒险。\"),\n    (\"权杖骑士\", \"热情和冲动。\"),\n    (\"权杖皇后\", \"自信和独立。\"),\n    (\"权杖国王\", \"领导力和远见。\"),\n    (\"圣杯王牌\", \"爱情和情感的新开始。\"),\n    (\"圣杯二\", \"伙伴关系和和谐。\"),\n    (\"圣杯三\", \"友谊和庆祝。\"),\n    (\"圣杯四\", \"冷漠和沉思。\"),\n    (\"圣杯五\", \"失望和悲伤。\"),\n    (\"圣杯六\", \"怀旧和童年回忆。\"),\n    (\"圣杯七\", \"幻想和选择。\"),\n    (\"圣杯八\", \"放弃和寻找更好的。\"),\n    (\"圣杯九\", \"满足和愿望实现。\"),\n    (\"圣杯十\", \"家庭和幸福。\"),\n    (\"圣杯侍者\", \"创意和情感表达。\"),\n    (\"圣杯骑士\", \"浪漫和追求。\"),\n    (\"圣杯皇后\", \"同情和关怀。\"),\n    (\"圣杯国王\", \"情感平衡和智慧。\"),\n    (\"宝剑王牌\", \"真理和新的想法。\"),\n    (\"宝剑二\", \"决策和僵局。\"),\n    (\"宝剑三\", \"心碎和痛苦。\"),\n    (\"宝剑四\", \"休息和恢复。\"),\n    (\"宝剑五\", \"冲突和失败。\"),\n    (\"宝剑六\", \"过渡和康复。\"),\n    (\"宝剑七\", \"欺骗和策略。\"),\n    (\"宝剑八\", \"限制和困境。\"),\n    (\"宝剑九\", \"焦虑和忧虑。\"),\n    (\"宝剑十\", \"结束和背叛。\"),\n    (\"宝剑侍者\", \"好奇和观察。\"),\n    (\"宝剑骑士\", \"冲动和行动。\"),\n    (\"宝剑皇后\", \"独立和清晰。\"),\n    (\"宝剑国王\", \"权威和理性。\"),\n    (\"星币王牌\", \"物质和财务的新开始。\"),\n    (\"星币二\", \"平衡和适应。\"),\n    (\"星币三\", \"团队合作和技能。\"),\n    (\"星币四\", \"控制和保守。\"),\n    (\"星币五\", \"贫困和困难。\"),\n    (\"星币六\", \"慷慨和分享。\"),\n    (\"星币七\", \"耐心和评估。\"),\n    (\"星币八\", \"努力和专注。\"),\n    (\"星币九\", \"自立和舒适。\"),\n    (\"星币十\", \"财富和遗产。\"),\n    (\"星币侍者\", \"学习和成长。\"),\n    (\"星币骑士\", \"勤奋和责任。\"),\n    (\"星币皇后\", \"实用和关怀。\"),\n    (\"星币国王\", \"成功和安全。\")\n\n    ]\n\n    # 不用 sum()，改成手动累加\n    seed_sum = 0\n    for c in seed_str:\n        seed_sum = seed_sum + ord(c)\n\n    idx = seed_sum % len(cards)\n    card, means = cards[idx]\n\n    direction = \"正位\" if seed_sum % 2 == 0 else \"逆位\"\n\n    return {\n        \"card\": card,\n        \"means\": means,\n        \"direction\": direction\n    }", "language": "python"}, {"id": "8fd34b6d-6f2b-472d-b1fd-9201dbe5672b", "from": "Input", "name": "language", "type": "String", "value": "python"}, {"id": "f1a5cd49-f01e-4ed9-b7a3-3d1678de7671", "from": "Input", "name": "output", "type": "Object", "value": {"properties": {"output": {"type": "object", "properties": {"card": {"type": "string", "description": ""}, "means": {"type": "string", "description": ""}, "direction": {"type": "string", "description": ""}}, "description": ""}}}}], "outputParams": [{"id": "e17f0b01-d7b7-4fc2-92bc-315291547f60", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "8fdc00ce-afa9-4c8e-8739-54e912f838a7", "from": "Input", "name": "card", "type": "String", "value": "", "description": ""}, {"id": "9f686539-721e-468f-9876-e89adae74a4a", "from": "Input", "name": "means", "type": "String", "value": "", "description": ""}, {"id": "53a5bc92-996d-4ad1-9184-ea803142c45c", "from": "Input", "name": "direction", "type": "String", "value": "", "description": ""}]}]}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "codeComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 652.0200383868537, "y": -198.96194605600272, "id": "jadege42gn", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 5, "textX": 0, "textY": 0, "width": 183.04996490478516, "hAlign": "center", "height": -109.7999587059021, "italic": false, "margin": 20, "toShape": "jade9le7h8", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadet1poiu", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "dynamic-0|8739c364-286b-400a-be88-10676eb4eafb"}, {"x": 1518.8200032916388, "y": 20.238095238095184, "id": "jade50ty3r", "pad": 6, "bold": false, "text": "结束_2", "type": "endNodeEnd", "dirty": false, "index": 6, "width": 360, "height": 182, "italic": false, "flowMeta": {"callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "d731e408-b82f-44ca-a7e8-9d3326fe0de2", "from": "Expand", "name": "finalOutput", "type": "Object", "value": [{"id": "2261b474-03b4-47f0-8cc3-3e4abd59a7fd", "from": "Reference", "name": "out", "type": "String", "value": ["output", "llmOutput"], "editable": true, "isRequired": true, "description": "", "referenceId": "0e51d152-bd56-4409-8166-759ba2f5fe54", "referenceKey": "llmOutput", "referenceNode": "jades2issa"}], "editable": false, "isRequired": false, "referenceId": "", "referenceKey": "", "referenceNode": ""}, {"id": "09dc8b0e-c6d3-414f-b7fd-be5cf87ffb6c", "from": "Input", "name": "enableLog", "type": "Boolean", "value": false}], "outputParams": [{}]}}}, "triggerMode": "auto"}, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "deletable": true, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28,31,35,.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "endComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderWidth": 1, "mouseInBorderColor": "#B1B1B7"}, {"x": 1307.5700032916388, "y": -449.7619047619048, "id": "jadek7i6bs", "pad": 6, "bold": false, "text": "分析智能体", "type": "llmNodeState", "dirty": false, "index": 7, "width": 360, "height": 344, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "543983e6-8555-4240-99d8-a781d4237fc7", "from": "Input", "name": "model", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "dc429d31-3ce6-4ec7-8ed5-f510a3ad8bc0", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "7c6385d4-cec5-4c54-9cdf-9e11d3dc0cad", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "cd867369-40d1-443d-874b-ecc09d5e5af2", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "a868cd07-4d57-4ff8-a8b3-88819bf29103", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "de4b1219-16ed-4e7c-b584-3f4aefc0c245", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "0fcfbbf8-5bc8-43b5-a7cb-6d16be519c5c", "from": "Input", "name": "template", "type": "String", "value": "你是一个顶级塔罗师。\n用户刚刚从78张塔罗牌中抽取了一张牌：\n\n你抽到的是 {{card}}（{{direction}}），它象征着：{{means}}。\n用户的问题是：{{question}}\n\n请根据上述信息进行塔罗解读，总字数控制在200字左右。请按照以下结构输出：\n\n你抽到的是 {{card}}（{{direction}}），它象征着：{{means}}。\n\n简要介绍 {{card}} 这张牌的象征意义；\n\n然后结合“{{direction}}”的朝向，解释此牌在该状态下传达的能量与倾向；\n\n将其与用户的问题（{{question}}）结合，分析这张牌如何影响用户的处境、情绪或未来发展；\n\n最后给出具有洞察力、温暖且具体的建议，引导用户思考或行动。\n\n风格要求：使用神秘、柔和而具洞察力的语言，保持塔罗占卜师的语气，避免空泛敷衍，解读应贴合实际问题、有启发性。"}, {"id": "ef354685-f2ed-42ab-b59f-33b9607b59ba", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "ac1ad9b7-6e97-4ffb-9cb4-33e230c52e62", "from": "Reference", "name": "card", "type": "String", "value": ["output", "card"], "referenceId": "8fdc00ce-afa9-4c8e-8739-54e912f838a7", "referenceKey": "card", "referenceNode": "jade9le7h8"}, {"id": "07e6238a-acfb-4338-a798-9a9b31102e32", "from": "Reference", "name": "means", "type": "String", "value": ["output", "means"], "referenceId": "9f686539-721e-468f-9876-e89adae74a4a", "referenceKey": "means", "referenceNode": "jade9le7h8"}, {"id": "2c7b9ec1-71de-4edb-a530-8f9a86573c3f", "from": "Reference", "name": "direction", "type": "String", "value": ["output", "direction"], "referenceId": "53a5bc92-996d-4ad1-9184-ea803142c45c", "referenceKey": "direction", "referenceNode": "jade9le7h8"}, {"id": "79e5f676-20a1-4798-8812-0fe8fc5ee3f2", "from": "Reference", "name": "question", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}]}]}, {"id": "e6f12f13-16cc-4e02-ae98-163cc0f02cf7", "from": "Input", "name": "maxMemoryRounds", "type": "Integer", "value": "5"}, {"id": "a738d5ea-1db5-49ff-8b93-43a62ff04812", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "322ca097-b71d-486d-8f01-b2a8de5c36c0", "from": "Input", "name": "systemPrompt", "type": "String", "value": ""}, {"id": "10c34b86-4184-4ee5-8770-e6cf54a91e52", "from": "Input", "name": "enableLog", "type": "Boolean", "value": true}, {"id": "9d95d5bc-4883-4368-b8ee-7101241f3798", "from": "Expand", "name": "knowledgeBases", "type": "Array", "value": []}], "outputParams": [{"id": "7de12a31-1726-4987-bf20-5ac372bd9516", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "8339ac95-2d1c-42de-8185-44f1355497a7", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}, {"id": "deab086d-1fbc-41f3-a8f1-0a72c65d3711", "from": "Input", "name": "reference", "type": "Array", "value": [], "description": ""}]}], "tempReference": {}}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "moveable": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "emphasized": false, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "llmComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 1203.0700032916388, "y": -308.7619047619048, "id": "jade8dmo9h", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": false, "index": 8, "textX": 0, "textY": 0, "width": 104.5, "hAlign": "center", "height": 31, "italic": false, "margin": 20, "toShape": "jadek7i6bs", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jade9le7h8", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 1667.5700032916388, "y": -277.7619047619048, "id": "jadeg89ghw", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": false, "index": 9, "textX": 0, "textY": 0, "width": 114.39428242264603, "hAlign": "center", "height": 5.19047619047609, "italic": false, "margin": 20, "toShape": "jadesoux5i", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadek7i6bs", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 851.3200032916388, "y": -63.511904761904816, "id": "jades2issa", "pad": 6, "bold": false, "text": "沟通智能体", "type": "llmNodeState", "dirty": false, "index": 10, "width": 360, "height": 344, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "d65dbc56-ae4e-4a8e-bef3-fade70e286ab", "from": "Input", "name": "model", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "e62f50ef-692f-49ee-908d-358d8ffe3403", "from": "Expand", "name": "accessInfo", "type": "Object", "value": [{"id": "e7a4974f-2b2c-49a8-a817-c4c56f8613db", "from": "Input", "name": "serviceName", "type": "String", "value": "Qwen/Qwen2.5-72B-Instruct"}, {"id": "15b1ffa2-3e91-4009-bd1d-9b11146e0f7a", "from": "Input", "name": "tag", "type": "String", "value": "SiliconFlow,Jade"}]}, {"id": "1378328b-6e69-402b-be50-3638fd8152f9", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "186cecf6-2061-4e6b-b574-84e94221fd42", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "7a1ba447-4147-450e-959b-15d9e2444f93", "from": "Input", "name": "template", "type": "String", "value": "{{question}}"}, {"id": "8968da54-b128-488c-a80f-1164f0636506", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "15247e73-2e05-4865-9eb0-3cf539b7e77c", "from": "Reference", "name": "question", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "ae1c6cb8-3177-4dd4-b041-2dd455297d37", "from": "Reference", "name": "his", "type": "Array", "value": ["memories"], "referenceId": "memories", "referenceKey": "memories", "referenceNode": "_systemEnv"}]}]}, {"id": "e6f12f13-16cc-4e02-ae98-163cc0f02cf7", "from": "Input", "name": "maxMemoryRounds", "type": "Integer", "value": "5"}, {"id": "85544bce-f8d4-4f03-8f1c-2a63d43b3287", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "29feca7e-19f7-4630-ad63-8b481be68083", "from": "Input", "name": "systemPrompt", "type": "String", "value": "你是一位经验丰富的塔罗牌占卜师。用户刚刚提出了一个新问题，请你回顾历史消息中用户上一次抽到的塔罗牌及其对应的正位或逆位状态，并结合该牌的含义，针对用户当前的问题进行深入分析与解读。请参考以下步骤：\n\n找出上一次抽取的塔罗牌及其方向（正位或逆位）；\n\n结合该牌的象征意义进行解读，重点联系当前提问内容；\n\n说明这张牌如何反映出用户当前处境、潜在影响、或未来趋势；\n\n给出温暖、清晰且具有洞察力的建议，帮助用户理解并作出抉择。\n\n回答应具备情绪共鸣、塔罗语言风格，并避免简单重复牌面定义，要进行具体、贴合问题的分析。\n\n历史信息{{his}}"}, {"id": "96e006ba-ad56-482e-87cc-c377cd6d0641", "from": "Input", "name": "enableLog", "type": "Boolean", "value": true}, {"id": "ae366d0c-72f5-4bdb-b84d-eba6f0cfdc1b", "from": "Expand", "name": "knowledgeBases", "type": "Array", "value": []}], "outputParams": [{"id": "733ad08c-2da7-459a-80c6-46c6e32895d3", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "0e51d152-bd56-4409-8166-759ba2f5fe54", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}, {"id": "b8e94458-14df-47a5-aed2-d9e50c43aeed", "from": "Input", "name": "reference", "type": "Array", "value": [], "description": ""}]}], "tempReference": {}}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hasError": false, "hideText": true, "runnable": true, "backColor": "white", "container": "elsa-page:tvp1s6", "dashWidth": 0, "namespace": "jadeFlow", "autoHeight": true, "enableMask": false, "rotateAble": false, "borderColor": "rgba(28, 31, 35, 0.08)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 8, "outlineColor": "rgba(74, 147, 255, 0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "llmComponent", "focusBackColor": "white", "sourcePlatform": "official", "enableAnimation": false, "focusBorderColor": "rgb(4, 123, 252)", "focusBorderWidth": 1, "mouseInBorderColor": "rgb(4, 123, 252)"}, {"x": 1211.3200032916388, "y": 108.48809523809518, "id": "jadeyvewu7", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": false, "index": 11, "textX": 0, "textY": 0, "width": 307.5, "hAlign": "center", "height": 2.75, "italic": false, "margin": 20, "toShape": "jade50ty3r", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jades2issa", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "E"}, {"x": 652.0200383868537, "y": -148.96190790903006, "id": "jadeftlrp2", "pad": 0, "bold": false, "text": "", "type": "jadeEvent", "dirty": true, "index": 12, "textX": 0, "textY": 0, "width": 199.29996490478516, "hAlign": "center", "height": 257.45000314712524, "italic": false, "margin": 20, "toShape": "jades2issa", "endArrow": true, "hideText": true, "lineMode": {"type": "auto_curve"}, "runnable": true, "allowLink": false, "backColor": "white", "container": "elsa-page:tvp1s6", "fromShape": "jadet1poiu", "lineWidth": 2, "namespace": "elsa", "beginArrow": false, "borderColor": "#B1B1B7", "borderWidth": 1, "curvePoint1": {"x": 0, "y": 0}, "curvePoint2": {"x": 0, "y": 0}, "brokenPoints": [], "endArrowSize": 4, "arrowEndPoint": {"x": 0, "y": 0}, "endArrowEmpty": false, "beginArrowSize": 4, "arrowBeginPoint": {"x": 0, "y": 0}, "beginArrowEmpty": false, "definedToConnector": "W", "mouseInBorderColor": "#B1B1B7", "allowSwitchLineMode": false, "definedFromConnector": "dynamic-999"}, {"x": 890.0700032916388, "y": -588.5119047619048, "id": "jadere6m0c", "pad": 6, "bold": false, "text": "注释", "type": "noteNode", "dirty": false, "index": 13, "width": 243, "height": 92, "italic": false, "flowMeta": {"jober": {"name": "", "type": "general_jober", "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "text_54a3ad64-fc62-46e2-8f21-afac5a095976", "from": "Input", "name": "text", "type": "String", "value": "<p>根据一个随机数生成抽卡的结果</p>"}, {"id": "style_6abff408-a7aa-4250-a44c-bd4cdb1d0c72", "from": "Expand", "name": "style", "type": "Object", "value": [{"id": "backgroundColor_e6a6db96-8937-4af3-be6f-7feca8fdbf70", "from": "Input", "name": "backgroundColor", "type": "String", "value": "rgb(234, 243, 255)"}, {"id": "outlineColor_c129e176-9128-4599-a0a2-16f858657ada", "from": "Input", "name": "outlineColor", "type": "String", "value": ""}, {"id": "borderColor_0c80c0aa-29ab-4f65-87f6-c4485d962a5b", "from": "Input", "name": "borderColor", "type": "String", "value": ""}, {"id": "fontSize_b1b86cab-8977-404f-b6cc-231ddb6e70af", "from": "Input", "name": "fontSize", "type": "String", "value": "12"}, {"id": "fontColor_552bb5c6-cdbe-4218-b56d-531d300c7d40", "from": "Input", "name": "fontColor", "type": "String", "value": "rgb(26, 26, 26)"}, {"id": "align_8714fac3-21f3-4242-9778-e3e8dae250b4", "from": "Input", "name": "align", "type": "String", "value": "JustifyLeft"}, {"id": "listStyle_227496ad-01c5-4674-b69f-5ee6b7c6054e", "from": "Input", "name": "listStyle", "type": "String", "value": "InsertUnorderedList"}]}], "outputParams": []}}}, "joberFilter": {"type": "MINIMUM_SIZE_FILTER", "threshold": 1}, "triggerMode": "auto"}, "hideText": true, "runnable": false, "autoWidth": true, "backColor": "rgb(234, 243, 255)", "container": "elsa-page:tvp1s6", "dashWidth": 0, "minHeight": 92, "namespace": "jadeFlow", "autoHeight": false, "enableMask": false, "rotateAble": false, "borderColor": "rgb(171, 203, 249)", "borderWidth": 1, "runningTask": 0, "triggerMode": "auto", "warningTask": 0, "cornerRadius": 12, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "completedTask": 0, "componentName": "noteComponent", "focusBackColor": "rgb(234, 243, 255)", "sourcePlatform": "official", "enableAnimation": false, "focusBorderWidth": 1, "mouseInBorderColor": "rgb(171, 203, 249)"}], "vAlign": "top", "itemPad": [0, 0, 0, 0], "division": -1, "dockMode": "none", "fontFace": "arial", "fontSize": 18, "hideText": true, "moveable": true, "shapesAs": {}, "backColor": "#fbfbfc", "container": "elsa-page:tvp1s6", "dockAlign": "top", "fontColor": "#ECD0A7", "fontStyle": "normal", "itemSpace": 5, "namespace": "jadeFlow", "fontWeight": "bold", "itemScroll": {"x": 0, "y": 0}, "borderColor": "white", "focusBackColor": "#fbfbfc"}], "title": "f8d255bd1eac48f3a5b9ef16ff20407f", "source": "elsa", "tenant": "31f20efc7e0848deab6a6bc10fc3021e", "setting": {"pad": 10, "tag": {}, "code": "", "pDock": "none", "hAlign": "center", "margin": 25, "shadow": "", "shared": false, "vAlign": "top", "itemPad": [5, 5, 5, 5], "visible": true, "autoText": false, "dockMode": "none", "dragable": true, "editable": true, "fontFace": "arial", "fontSize": 12, "infoType": {"name": "none", "next": "INFORMATION"}, "moveable": true, "priority": 0, "allowLink": true, "autoWidth": false, "backAlpha": 0.15, "backColor": "whitesmoke", "dashWidth": 0, "deletable": true, "fontColor": "steelblue", "fontStyle": "normal", "headColor": "steelblue", "lineWidth": 2, "underline": false, "autoHeight": false, "emphasized": false, "fontWeight": "lighter", "itemScroll": {"x": 0, "y": 0}, "lineHeight": 1.5, "resizeable": true, "rotateAble": true, "scrollLock": {"x": false, "y": false}, "selectable": true, "shadowData": "2px 2px 4px", "borderColor": "#047bfc", "borderWidth": 1, "bulletSpeed": 1, "focusMargin": 0, "focusShadow": "", "globalAlpha": 1, "outstanding": false, "bulletedList": false, "cornerRadius": 4, "enableSocial": true, "mouseInColor": "orange", "numberedList": false, "outlineColor": "rgba(74,147,255,0.12)", "outlineWidth": 10, "rotateDegree": 0, "captionhAlign": "center", "strikethrough": false, "focusBackColor": "whitesmoke", "focusFontColor": "darkorange", "progressStatus": {"name": "NONE", "next": "UNKNOWN", "color": "gray"}, "showedProgress": false, "allNodeNumLimit": 99, "captionfontFace": "arial black", "captionfontSize": 14, "enableAnimation": false, "progressPercent": 0.65, "captionfontColor": "whitesmoke", "captionfontStyle": "normal", "focusBorderColor": "#047bfc", "focusBorderWidth": 1, "mouseInBackColor": "whitesmoke", "mouseInFontColor": "orange", "captionfontWeight": "lighter", "captionlineHeight": 1, "mouseInBorderColor": "#047bfc", "sameTypeNodeNumLimit": 19}, "flowMeta": {"callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.fitable.FlowInfoCallback"]}, "enableOutputScope": true, "exceptionFitables": ["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler", "modelengine.fit.jober.fitable.FlowInfoException"]}, "enableText": false}', 0) ON CONFLICT ("id") DO NOTHING;

INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('bf332adf6d0f4ec19a27f3b399943b5f', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'chat', 'String', 'null', 'none', 'workflow', '聊天设置', 3, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('b92039fbcbf54e26ab598df376826019', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'enterWorkflow', 'String', 'null', 'none', 'ability', '进入工作流编排', 2, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('b918cb0fe7224eaf9489de1b2d7ad028', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'memory', 'List<String>', '["jade6qm5eg","memory"]', 'graph', 'chat', '多轮对话', 5, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('b512d76537684126a245aab1b4b22ba6', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'ability', 'String', 'null', 'none', 'workflow', '能力配置', 1, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('b197e1ffd53d4860a8b4d5c4e259af73', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'workflow', 'String', 'null', 'none', 'null', '工作流编排', 0, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('a3ccee5913e449a08f67fce1894aaa87', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'multimodal', 'object', '{"useMultimodal":true,"maxUploadFilesNum":5,"autoChatOnUpload":false}', 'input', 'chat', '多模态', 8, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('81ad3a9f49aa45aeaf0a30001d0d2033', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'workflow', 'String', 'null', 'none', 'null', '工作流编排', 0, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('78f6727889d446b9a8242b3df2891d71', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'recommend', 'object', '{"showRecommend":true,"list":["想要抽塔罗牌，问题：今日运势。"]}', 'input', 'chat', '猜你想问', 6, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('72c278046b8141908ac1e0b69b7084c9', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'memory', 'List<String>', '["jade6qm5eg","memory"]', 'graph', 'chat', '多轮对话', 5, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('727bc0b12e5c42adbe6d941ec7e807af', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[]}],"inspirations":[]}', 'input', 'chat', '创意灵感', 7, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('621931805023408e8e5262c11099cf4d', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'ability', 'String', 'null', 'none', 'workflow', '能力配置', 1, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('5bc37e60f0ca47f69599508ba518da6d', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'enterWorkflow', 'String', 'null', 'none', 'ability', '进入工作流编排', 2, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('54d97ea6e88d43e0888c9756f3fd3675', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'chat', 'String', 'null', 'none', 'workflow', '聊天设置', 3, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('30f30b10a19746b795f9319bff24e9c8', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'opening', 'String', '"请输入 “想要抽塔罗牌，问题：{请填写心中疑虑}”开始"', 'input', 'chat', '开场白', 4, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('2fac7c230c9a4556a7626df9500f18c9', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'opening', 'String', '"哈喽小主！我是你的专属客服，请问你有什么问题嘛？\n"', 'input', 'chat', '开场白', 4, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('2a5af277b0494e6790c4216c57f32cc8', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[]}],"inspirations":[{"name":"抽卡","description":"抽卡","prompt":"想要抽塔罗牌，问题：","promptVarData":[],"category":null,"auto":false,"id":"oq35uu"}],"showInspiration":true}', 'input', 'chat', '创意灵感', 7, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('0fb3747657744dd985be434f94743792', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'multimodal', 'object', '{"useMultimodal":true,"maxUploadFilesNum":5,"autoChatOnUpload":false}', 'input', 'chat', '多模态', 8, 0, '72f27bef57de4e7c8a0d13d700b81f8a') ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "is_deleted", "app_id") VALUES ('0bd744a9cc4c45ad9e7604bea423c762', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'recommend', 'object', '{"showRecommend":true,"list":["收到扣款提醒但订单未生效怎么办？","寄回商品后商家未处理怎么办？","如何查询物流进度？"]}', 'input', 'chat', '猜你想问', 6, 0, 'bcc24abf7c8a483fa919dfd1f9947c88') ON CONFLICT ("id") DO NOTHING;

INSERT INTO "public"."app_template" ("id", "name", "built_type", "category", "attributes", "app_type", "like", "collection", "usage", "version", "config_id", "flow_graph_id", "create_by", "create_at", "update_by", "update_at", "is_deleted") VALUES ('bcc24abf7c8a483fa919dfd1f9947c88', '抖音电商售后客服-小抖', 'workflow', 'chatbot', '{"icon": "/api/jober/v1/api/31f20efc7e0848deab6a6bc10fc3021e/file?filePath=/var/share/d8241dff-1e0f-4ba5-8f64-e6f527415daf.png&fileName=%E6%8A%96%E9%9F%B3%E7%94%B5%E5%95%86%E5%94%AE%E5%90%8E%E5%AE%A2%E6%9C%8D-%E5%B0%8F%E6%8A%96.png", "app_type": "bfce7a4f00ea464ca85b1bd691ffe774", "greeting": "", "description": "哈喽小主！我是你的专属客服，请问你有什么问题嘛？"}', 'bfce7a4f00ea464ca85b1bd691ffe774', 0, 0, 1, '1.0.0', '36a4642d4b8543ecb5bb0c30af014b3e', 'ee6f79fc035545bda8734f5e26595c46', 'system', '2025-06-19 06:43:13.087872', 'system', '2025-06-19 06:43:13.087872', 0) ON CONFLICT ("id") DO NOTHING;
INSERT INTO "public"."app_template" ("id", "name", "built_type", "category", "attributes", "app_type", "like", "collection", "usage", "version", "config_id", "flow_graph_id", "create_by", "create_at", "update_by", "update_at", "is_deleted") VALUES ('72f27bef57de4e7c8a0d13d700b81f8a', '塔罗', 'workflow', 'chatbot', '{"icon": "/api/jober/v1/api/31f20efc7e0848deab6a6bc10fc3021e/file?filePath=/var/share/d2ae338d-5bbb-47ef-8846-12316269a0eb.png&fileName=%E5%A1%94%E7%BD%97.png", "app_type": "dadb32e11d0f49c8b3b2b3b78f32adcb", "greeting": "", "description": "塔罗小程序，可以抽取每日运势，并和小女巫对话"}', 'dadb32e11d0f49c8b3b2b3b78f32adcb', 0, 0, 1, '1.0.0', '43df8f8626754d45b145446d0b8c7a92', 'e30fddffe6a14c97aa9d0c843d78218e', 'system', '2025-06-19 06:47:23.677843', 'system', '2025-06-19 06:47:23.677843', 0) ON CONFLICT ("id") DO NOTHING;